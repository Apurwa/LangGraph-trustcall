interactions:
- request:
    body: '{"messages": [{"content": "Extract the relevant user preferences from the
      conversation.\n## Additional Instructions\n    \n<instructions>\nOnly extract
      pertinent user preferences, no temporal desires. Extract same user preferences
      only once independent if the user has said it multiple times.\n</instructions>",
      "role": "system"}, {"content": "<conversations>\n<conversation idx=0>\n<user
      id=0a1708e8-1956-4f6b-aa23-f1698ecd6427>Make the lights yellow inside</user>\n<ai>Certainly,
      changing the interior lighting to yellow now for a warm and cozy atmosphere.</ai>\n</conversation>\n</conversations>",
      "role": "user"}], "model": "gpt-4o", "n": 1, "stream": false, "temperature":
      0.0, "tools": [{"type": "function", "function": {"name": "extract_user_preferences_v1",
      "description": "A function that extracts personal preferences of the user in
      the categories ''Points of Interest'', ''Navigation and Routing'', ''Vehicle
      Settings and Comfort'', ''Entertainment and Media''.", "parameters": {"$defs":
      {"ClimateControl": {"properties": {"preferred_temperature": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Preferred Temperature"}, "fan_speed_preferences": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Fan
      Speed Preferences"}, "airflow_direction_preferences": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Airflow
      Direction Preferences"}, "seat_heating_preferences": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Seat
      Heating Preferences"}}, "title": "ClimateControl", "type": "object"}, "DanceHall":
      {"properties": {"preferred_dancing_network": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Dancing Network"},
      "preferred_type_of_dancing_while_traveling": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Type Of Dancing While
      Traveling"}, "preferred_type_of_dancing_at_everyday_points": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Preferred Type Of Dancing At Everyday Points"}, "dancing_station_onsite_amenities":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Dancing Station Onsite Amenities"}}, "title": "DanceHall",
      "type": "object"}, "EntertainmentAndMedia": {"properties": {"music": {"allOf":
      [{"$ref": "#/$defs/Music"}]}, "radio_and_podcast": {"allOf": [{"$ref": "#/$defs/RadioAndPodcast"}]}},
      "required": ["music", "radio_and_podcast"], "title": "EntertainmentAndMedia",
      "type": "object"}, "FireStation": {"properties": {"preferred_fire_station":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Fire Station"}, "willingness_to_donate": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Willingness To Donate"}, "bingo_expertise": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Bingo
      Expertise"}}, "title": "FireStation", "type": "object"}, "GroceryShopping":
      {"properties": {"preferred_supermarket_chain": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preferred
      Supermarket Chain"}, "preference_for_local_markets_farms_or_supermarket": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Preference For Local Markets Farms Or Supermarket"}}, "title": "GroceryShopping",
      "type": "object"}, "LightingAndAmbience": {"properties": {"interior_lighting_brightness_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Brightness Preferences"}, "interior_lighting_ambient_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Ambient Preferences"}, "interior_lighting_color_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Color Preferences"}}, "title": "LightingAndAmbience",
      "type": "object"}, "Music": {"properties": {"favorite_genres": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Favorite Genres"}, "favorite_artists_or_bands": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Favorite
      Artists Or Bands"}, "favorite_songs": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favorite Songs"}, "preferred_music_streaming_service":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Music Streaming Service"}}, "title": "Music",
      "type": "object"}, "NavigationAndRouting": {"properties": {"routing": {"allOf":
      [{"$ref": "#/$defs/Routing"}]}, "traffic_and_conditions": {"allOf": [{"$ref":
      "#/$defs/TrafficAndConditions"}]}, "parking": {"allOf": [{"$ref": "#/$defs/Parking"}]}},
      "required": ["routing", "traffic_and_conditions", "parking"], "title": "NavigationAndRouting",
      "type": "object"}, "OutputFormat": {"properties": {"sentence_preference_revealed":
      {"title": "Sentence Preference Revealed", "type": "string"}, "preference": {"title":
      "Preference", "type": "string"}}, "required": ["sentence_preference_revealed",
      "preference"], "title": "OutputFormat", "type": "object"}, "Parking": {"properties":
      {"preferred_parking_type": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Parking Type"}, "price_sensitivity_for_paid_parking":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Price Sensitivity For Paid Parking"}, "distance_willing_to_walk_from_parking_to_destination":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Distance Willing To Walk From Parking To Destination"},
      "preference_for_covered_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preference For Covered Parking"},
      "need_for_handicapped_accessible_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Need For Handicapped Accessible
      Parking"}, "preference_for_parking_with_security": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preference
      For Parking With Security"}}, "title": "Parking", "type": "object"}, "PointsOfInterest":
      {"properties": {"restaurant": {"allOf": [{"$ref": "#/$defs/Restaurant"}]}, "fire_station":
      {"allOf": [{"$ref": "#/$defs/FireStation"}]}, "dancing_station": {"allOf": [{"$ref":
      "#/$defs/DanceHall"}]}, "grocery_shopping": {"allOf": [{"$ref": "#/$defs/GroceryShopping"}]}},
      "required": ["restaurant", "fire_station", "dancing_station", "grocery_shopping"],
      "title": "PointsOfInterest", "type": "object"}, "RadioAndPodcast": {"properties":
      {"preferred_radio_station": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Radio Station"}, "favorite_podcast_genres":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Favorite Podcast Genres"}, "favorite_podcast_shows": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Favorite Podcast Shows"}, "general_news_source": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "General News Source"}}, "title": "RadioAndPodcast", "type": "object"}, "Restaurant":
      {"properties": {"favourite_cuisine": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favourite Cuisine"}, "preferred_restaurant_type":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Restaurant Type"}, "fast_food_preference": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Fast Food Preference"}, "desired_price_range": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Desired Price Range"}, "dietary_preference": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Dietary
      Preference"}, "preferred_payment_method": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Payment Method"}},
      "title": "Restaurant", "type": "object"}, "Routing": {"properties": {"avoidance_of_specific_road_types":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Avoidance Of Specific Road Types"}, "priority_for_shortest_time_or_shortest_distance":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Priority For Shortest Time Or Shortest Distance"}, "tolerance_for_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Tolerance For Traffic"}}, "title": "Routing", "type": "object"},
      "TrafficAndConditions": {"properties": {"traffic_information_source_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Traffic Information Source Preferences"}, "willingness_to_take_longer_route_to_avoid_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Willingness To Take Longer Route To Avoid Traffic"}}, "title":
      "TrafficAndConditions", "type": "object"}, "UserPreferences": {"properties":
      {"points_of_interest": {"allOf": [{"$ref": "#/$defs/PointsOfInterest"}]}, "routing":
      {"allOf": [{"$ref": "#/$defs/NavigationAndRouting"}]}, "comfort_settings": {"allOf":
      [{"$ref": "#/$defs/VehicleSettingsAndComfort"}]}, "entertainment_and_media":
      {"allOf": [{"$ref": "#/$defs/EntertainmentAndMedia"}]}}, "required": ["points_of_interest",
      "routing", "comfort_settings", "entertainment_and_media"], "title": "UserPreferences",
      "type": "object"}, "VehicleSettingsAndComfort": {"properties": {"climate_control":
      {"allOf": [{"$ref": "#/$defs/ClimateControl"}]}, "lighting_and_ambience": {"allOf":
      [{"$ref": "#/$defs/LightingAndAmbience"}]}}, "required": ["climate_control",
      "lighting_and_ambience"], "title": "VehicleSettingsAndComfort", "type": "object"}},
      "description": "A function that extracts personal preferences of the user in
      the categories ''Points of Interest'', ''Navigation and Routing'', ''Vehicle
      Settings and Comfort'', ''Entertainment and Media''.", "properties": {"pertinent_user_preferences":
      {"allOf": [{"$ref": "#/$defs/UserPreferences"}]}}, "required": ["pertinent_user_preferences"],
      "title": "extract_user_preferences_v1", "type": "object"}}}]}'
    headers: {}
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2xTTW/bMAy9+1cIOieD03w1vnYD2g5dl8NWbEshKDLtqJVFTaKHpoH/+yDbTdxs
        PhjUe3xPJEEdEsa4znnGuNpJUpUz49XTp8XNz2tSl/eX+7y8u9refvyewvXV63r3m4+iArdPoOhN
        9UFh5QyQRtvRyoMkiK6T5UU6X8xXq7QlKszBRFnpaDzD8UV6MRun8/Fk2gt3qBUEnrFfCWOMHdp/
        LNHm8MIz1tq0SAUhyBJ4dkxijHs0EeEyBB1IWuKjE6nQEthYta2NGRCEaISSxpwu7r7DID7NSRoj
        ysX6683r5Nvl3fr683SOD4v7H6+3X8rBfZ313rUFFbVVx/kM+COenV3GGLeyarXwQl4qEnUAL5yH
        AjxYBUH8mZzZMcalL+sKLMVW+GHDHXjSFuy/8g3PIo/aUhBYCG0JPATq8BjJ2ksbz+lowwvtQQSS
        sdoeyqVV2pZnaOlRgd+LsEPntC0j3Iw23GNN3fEwPEQJeVkUWglpc6HQ5jrahZ500j8PbBRWBXoS
        ASg69G0ooytJENXk0fRSo8tdTGqNZbXVsfENzybRCGK/JLWN42ozKsi17PyqOmjVu3iZa2wTHOZK
        thNKm6bh72bfJP+LH/uoOe6twdJ53IazNeSFtjrshAcZ2nUYbmXyZvrYvpL63eJz57FyJAifwUbb
        6WzWufLTuzyxq3lPEpI0J3w2XSV9nTzsA0ElCm1L8M7r9tHwwol8vlxM02WxSnnSJH8BAAD//wMA
        +1jKtD0EAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8a0bed3e29f5679e-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 09 Jul 2024 22:59:51 GMT
      Server:
      - cloudflare
      Set-Cookie:
      - __cf_bm=MJgtrHp4ulSw9JXNqHt1a4LPGfkuYD9hDei6jNkJkA8-1720565991-1.0.1.1-tUKpuMLYKuNLj6oFfZsUv1ocOWO2MZhJcZfLpNJvHIybFloTfeMtn_zYL_tsWvzBVKlE7NO_j6qqlRhUVWeNbQ;
        path=/; expires=Tue, 09-Jul-24 23:29:51 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=cKAx9kZr9v28W5wZNTW1jLMjn0xf3Yu1LdrHrRaPCJ4-1720565991579-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Transfer-Encoding:
      - chunked
      alt-svc:
      - h3=":443"; ma=86400
      openai-organization:
      - langchain
      openai-processing-ms:
      - '1260'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-ratelimit-limit-requests:
      - '10000'
      x-ratelimit-limit-tokens:
      - '22000000'
      x-ratelimit-remaining-requests:
      - '9999'
      x-ratelimit-remaining-tokens:
      - '21999849'
      x-ratelimit-reset-requests:
      - 6ms
      x-ratelimit-reset-tokens:
      - 0s
      x-request-id:
      - req_80833d27c74df9112a1a5ad78de2b6d8
    status:
      code: 200
      message: OK
- request:
    body: '{"messages": [{"content": "Extract the relevant user preferences from the
      conversation.\n## Additional Instructions\n    \n<instructions>\nOnly extract
      pertinent user preferences, no temporal desires. Extract same user preferences
      only once independent if the user has said it multiple times.\n</instructions>",
      "role": "system"}, {"content": "<conversations>\n<conversation idx=0>\n<user
      id=d655271e-bd1c-4df6-9686-402a002c9dc3>Find me a place to buy fresh apples</user>\n<ai>There
      are several grocery stores nearby. The closest one is ''Meyve Emporium'' which
      specializes in fresh fruits.</ai>\n<user id=d655271e-bd1c-4df6-9686-402a002c9dc3>No
      supermarkets, I prefer local market stands</user>\n<ai>Understood. The nearest
      local market stand with fresh apples is ''Akhisar Farmers'' Market'', 10 minutes
      away from our current location.</ai>\n<user id=d655271e-bd1c-4df6-9686-402a002c9dc3>Set
      navigation to that market</user>\n<ai>Navigation to ''Akhisar Farmers'' Market''
      is now set. Would you like to start the route guidance?</ai>\n<user id=d655271e-bd1c-4df6-9686-402a002c9dc3>Yes,
      and can you check for traffic on the way?</user>\n<ai>Sure, the route to ''Akhisar
      Farmers'' Market'' is clear with no traffic delays. Starting route guidance
      now.</ai>\n</conversation>\n</conversations>", "role": "user"}, {"content":
      null, "role": "assistant", "tool_calls": [{"type": "function", "id": "call_kTCNeHpXftrY9TBpn9xHR9XB",
      "function": {"name": "extract_user_preferences_v1", "arguments": "{\"pertinent_user_preferences\":
      {\"points_of_interest\": {\"restaurant\": 0, \"fire_station\": 0, \"dancing_station\":
      0, \"grocery_shopping\": 1}, \"routing\": {\"routing\": 1, \"traffic_and_conditions\":
      1, \"parking\": 0}, \"comfort_settings\": {\"climate_control\": 0, \"lighting_and_ambience\":
      0}, \"entertainment_and_media\": {\"music\": 0, \"radio_and_podcast\": 0}}}"}}]},
      {"content": "Error:\n\n```\n11 validation errors for PreferencesFunctionOutput\npertinent_user_preferences.points_of_interest.restaurant\n  Input
      should be a valid dictionary or instance of Restaurant [type=model_type, input_value=0,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.points_of_interest.fire_station\n  Input
      should be a valid dictionary or instance of FireStation [type=model_type, input_value=0,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.points_of_interest.dancing_station\n  Input
      should be a valid dictionary or instance of DanceHall [type=model_type, input_value=0,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.points_of_interest.grocery_shopping\n  Input
      should be a valid dictionary or instance of GroceryShopping [type=model_type,
      input_value=1, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.routing.routing\n  Input
      should be a valid dictionary or instance of Routing [type=model_type, input_value=1,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.routing.traffic_and_conditions\n  Input
      should be a valid dictionary or instance of TrafficAndConditions [type=model_type,
      input_value=1, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.routing.parking\n  Input
      should be a valid dictionary or instance of Parking [type=model_type, input_value=0,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.comfort_settings.climate_control\n  Input
      should be a valid dictionary or instance of ClimateControl [type=model_type,
      input_value=0, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.comfort_settings.lighting_and_ambience\n  Input
      should be a valid dictionary or instance of LightingAndAmbience [type=model_type,
      input_value=0, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.entertainment_and_media.music\n  Input
      should be a valid dictionary or instance of Music [type=model_type, input_value=0,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.entertainment_and_media.radio_and_podcast\n  Input
      should be a valid dictionary or instance of RadioAndPodcast [type=model_type,
      input_value=0, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\n```\nExpected
      Parameter Schema:\n\n```json\n{''$defs'': {''ClimateControl'': {''properties'':
      {''preferred_temperature'': {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''},
      ''type'': ''array''}, {''type'': ''null''}], ''title'': ''Preferred Temperature''},
      ''fan_speed_preferences'': {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''},
      ''type'': ''array''}, {''type'': ''null''}], ''title'': ''Fan Speed Preferences''},
      ''airflow_direction_preferences'': {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''},
      ''type'': ''array''}, {''type'': ''null''}], ''title'': ''Airflow Direction
      Preferences''}, ''seat_heating_preferences'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Seat Heating Preferences''}}, ''title'': ''ClimateControl'', ''type'': ''object''},
      ''DanceHall'': {''properties'': {''preferred_dancing_network'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Preferred Dancing Network''}, ''preferred_type_of_dancing_while_traveling'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preferred Type Of Dancing While Traveling''},
      ''preferred_type_of_dancing_at_everyday_points'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Preferred Type Of Dancing At Everyday Points''}, ''dancing_station_onsite_amenities'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Dancing Station Onsite Amenities''}}, ''title'':
      ''DanceHall'', ''type'': ''object''}, ''EntertainmentAndMedia'': {''properties'':
      {''music'': {''allOf'': [{''$ref'': ''#/$defs/Music''}]}, ''radio_and_podcast'':
      {''allOf'': [{''$ref'': ''#/$defs/RadioAndPodcast''}]}}, ''required'': [''music'',
      ''radio_and_podcast''], ''title'': ''EntertainmentAndMedia'', ''type'': ''object''},
      ''FireStation'': {''properties'': {''preferred_fire_station'': {''anyOf'': [{''items'':
      {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}],
      ''title'': ''Preferred Fire Station''}, ''willingness_to_donate'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Willingness To Donate''}, ''bingo_expertise'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Bingo Expertise''}}, ''title'': ''FireStation'', ''type'':
      ''object''}, ''GroceryShopping'': {''properties'': {''preferred_supermarket_chain'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preferred Supermarket Chain''}, ''preference_for_local_markets_farms_or_supermarket'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preference For Local Markets Farms Or Supermarket''}},
      ''title'': ''GroceryShopping'', ''type'': ''object''}, ''LightingAndAmbience'':
      {''properties'': {''interior_lighting_brightness_preferences'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Interior Lighting Brightness Preferences''}, ''interior_lighting_ambient_preferences'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Interior Lighting Ambient Preferences''},
      ''interior_lighting_color_preferences'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Interior Lighting Color Preferences''}}, ''title'': ''LightingAndAmbience'',
      ''type'': ''object''}, ''Music'': {''properties'': {''favorite_genres'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Favorite Genres''}, ''favorite_artists_or_bands'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Favorite Artists Or Bands''}, ''favorite_songs'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Favorite Songs''}, ''preferred_music_streaming_service'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preferred Music Streaming Service''}}, ''title'':
      ''Music'', ''type'': ''object''}, ''NavigationAndRouting'': {''properties'':
      {''routing'': {''allOf'': [{''$ref'': ''#/$defs/Routing''}]}, ''traffic_and_conditions'':
      {''allOf'': [{''$ref'': ''#/$defs/TrafficAndConditions''}]}, ''parking'': {''allOf'':
      [{''$ref'': ''#/$defs/Parking''}]}}, ''required'': [''routing'', ''traffic_and_conditions'',
      ''parking''], ''title'': ''NavigationAndRouting'', ''type'': ''object''}, ''OutputFormat'':
      {''properties'': {''sentence_preference_revealed'': {''title'': ''Sentence Preference
      Revealed'', ''type'': ''string''}, ''preference'': {''title'': ''Preference'',
      ''type'': ''string''}}, ''required'': [''sentence_preference_revealed'', ''preference''],
      ''title'': ''OutputFormat'', ''type'': ''object''}, ''Parking'': {''properties'':
      {''preferred_parking_type'': {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''},
      ''type'': ''array''}, {''type'': ''null''}], ''title'': ''Preferred Parking
      Type''}, ''price_sensitivity_for_paid_parking'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Price Sensitivity For Paid Parking''}, ''distance_willing_to_walk_from_parking_to_destination'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Distance Willing To Walk From Parking To
      Destination''}, ''preference_for_covered_parking'': {''anyOf'': [{''items'':
      {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}],
      ''title'': ''Preference For Covered Parking''}, ''need_for_handicapped_accessible_parking'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Need For Handicapped Accessible Parking''},
      ''preference_for_parking_with_security'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Preference For Parking With Security''}}, ''title'': ''Parking'', ''type'':
      ''object''}, ''PointsOfInterest'': {''properties'': {''restaurant'': {''allOf'':
      [{''$ref'': ''#/$defs/Restaurant''}]}, ''fire_station'': {''allOf'': [{''$ref'':
      ''#/$defs/FireStation''}]}, ''dancing_station'': {''allOf'': [{''$ref'': ''#/$defs/DanceHall''}]},
      ''grocery_shopping'': {''allOf'': [{''$ref'': ''#/$defs/GroceryShopping''}]}},
      ''required'': [''restaurant'', ''fire_station'', ''dancing_station'', ''grocery_shopping''],
      ''title'': ''PointsOfInterest'', ''type'': ''object''}, ''RadioAndPodcast'':
      {''properties'': {''preferred_radio_station'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Preferred Radio Station''}, ''favorite_podcast_genres'': {''anyOf'': [{''items'':
      {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}],
      ''title'': ''Favorite Podcast Genres''}, ''favorite_podcast_shows'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Favorite Podcast Shows''}, ''general_news_source'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''General News Source''}}, ''title'': ''RadioAndPodcast'',
      ''type'': ''object''}, ''Restaurant'': {''properties'': {''favourite_cuisine'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Favourite Cuisine''}, ''preferred_restaurant_type'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preferred Restaurant Type''}, ''fast_food_preference'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Fast Food Preference''}, ''desired_price_range'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Desired Price Range''}, ''dietary_preference'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Dietary Preference''}, ''preferred_payment_method'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preferred Payment Method''}}, ''title'':
      ''Restaurant'', ''type'': ''object''}, ''Routing'': {''properties'': {''avoidance_of_specific_road_types'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Avoidance Of Specific Road Types''}, ''priority_for_shortest_time_or_shortest_distance'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Priority For Shortest Time Or Shortest Distance''},
      ''tolerance_for_traffic'': {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''},
      ''type'': ''array''}, {''type'': ''null''}], ''title'': ''Tolerance For Traffic''}},
      ''title'': ''Routing'', ''type'': ''object''}, ''TrafficAndConditions'': {''properties'':
      {''traffic_information_source_preferences'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Traffic Information Source Preferences''}, ''willingness_to_take_longer_route_to_avoid_traffic'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Willingness To Take Longer Route To Avoid
      Traffic''}}, ''title'': ''TrafficAndConditions'', ''type'': ''object''}, ''UserPreferences'':
      {''properties'': {''points_of_interest'': {''allOf'': [{''$ref'': ''#/$defs/PointsOfInterest''}]},
      ''routing'': {''allOf'': [{''$ref'': ''#/$defs/NavigationAndRouting''}]}, ''comfort_settings'':
      {''allOf'': [{''$ref'': ''#/$defs/VehicleSettingsAndComfort''}]}, ''entertainment_and_media'':
      {''allOf'': [{''$ref'': ''#/$defs/EntertainmentAndMedia''}]}}, ''required'':
      [''points_of_interest'', ''routing'', ''comfort_settings'', ''entertainment_and_media''],
      ''title'': ''UserPreferences'', ''type'': ''object''}, ''VehicleSettingsAndComfort'':
      {''properties'': {''climate_control'': {''allOf'': [{''$ref'': ''#/$defs/ClimateControl''}]},
      ''lighting_and_ambience'': {''allOf'': [{''$ref'': ''#/$defs/LightingAndAmbience''}]}},
      ''required'': [''climate_control'', ''lighting_and_ambience''], ''title'': ''VehicleSettingsAndComfort'',
      ''type'': ''object''}}, ''description'': \"A function that extracts personal
      preferences of the user in the categories ''Points of Interest'', ''Navigation
      and Routing'', ''Vehicle Settings and Comfort'', ''Entertainment and Media''.\",
      ''properties'': {''pertinent_user_preferences'': {''allOf'': [{''$ref'': ''#/$defs/UserPreferences''}]}},
      ''required'': [''pertinent_user_preferences''], ''title'': ''extract_user_preferences_v1'',
      ''type'': ''object''}\n```\nPlease respond with a JSONPatch to correct the error
      for schema_id=[call_kTCNeHpXftrY9TBpn9xHR9XB].", "role": "tool", "tool_call_id":
      "call_kTCNeHpXftrY9TBpn9xHR9XB"}], "model": "gpt-4o", "n": 1, "stream": false,
      "temperature": 0.0, "tool_choice": {"type": "function", "function": {"name":
      "PatchFunctionParameters"}}, "tools": [{"type": "function", "function": {"name":
      "PatchFunctionParameters", "description": "Respond with all JSONPatch operations
      required to update the previous function call.\n\nUse to correct all validation
      errors in non-compliant function calls,\nor to extend or update existing structured
      data in the presence of new information.", "parameters": {"type": "object",
      "properties": {"schema_id": {"description": "The ID of the function you are
      patching.", "type": "string"}, "reasoning": {"description": "Think step-by-step,
      listing each validation error and the JSONPatch operation needed to correct
      it. Cite the fields in the JSONSchema you referenced in developing this plan.",
      "type": "string"}, "patches": {"description": "A list of JSONPatch operations
      to be applied to the previous tool call''s response.", "type": "array", "items":
      {"description": "A JSON Patch document represents an operation to be performed
      on a JSON document.\n\nNote that the op and path are ALWAYS required. Value
      is required for ALL operations except ''remove''.\n\nExamples:\n```json\n{\"op\":
      \"add\", \"path\": \"/a/b/c\", \"patch_value\": 1}\n{\"op\": \"replace\", \"path\":
      \"/a/b/c\", \"patch_value\": 2}\n{\"op\": \"remove\", \"path\": \"/a/b/c\"}\n```",
      "type": "object", "properties": {"op": {"description": "The operation to be
      performed. Must be one of ''add'', ''remove'', ''replace''.", "enum": ["add",
      "remove", "replace"], "type": "string"}, "path": {"description": "A JSON Pointer
      path that references a location within the target document where the operation
      is performed.", "type": "string"}, "value": {"description": "The value to be
      used within the operation. REQUIRED for ''add'', ''replace'', and ''test'' operations.",
      "anyOf": [{"type": "string"}, {"type": "integer"}, {"type": "boolean"}, {"type":
      "number"}, {"type": "array", "items": {"anyOf": [{"type": "string"}, {"type":
      "integer"}, {"type": "boolean"}, {"type": "number"}]}}, {"type": "object", "additionalProperties":
      {"anyOf": [{"type": "string"}, {"type": "integer"}, {"type": "boolean"}, {"type":
      "number"}]}}, {"type": "array", "items": {"anyOf": [{"type": "string"}, {"type":
      "integer"}, {"type": "boolean"}, {"type": "number"}, {"type": "array", "items":
      {"anyOf": [{"type": "string"}, {"type": "integer"}, {"type": "boolean"}, {"type":
      "number"}]}}, {"type": "object", "additionalProperties": {"anyOf": [{"type":
      "string"}, {"type": "integer"}, {"type": "boolean"}, {"type": "number"}]}}]}},
      {"type": "object", "additionalProperties": {"anyOf": [{"type": "string"}, {"type":
      "integer"}, {"type": "boolean"}, {"type": "number"}, {"type": "array", "items":
      {"anyOf": [{"type": "string"}, {"type": "integer"}, {"type": "boolean"}, {"type":
      "number"}]}}, {"type": "object", "additionalProperties": {"anyOf": [{"type":
      "string"}, {"type": "integer"}, {"type": "boolean"}, {"type": "number"}]}}]}}]}},
      "required": ["op", "path", "value"]}}}, "required": ["schema_id", "reasoning",
      "patches"]}}}]}'
    headers: {}
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2xUTW8jNwy9+1cQOjupHccJ7GPaXaRBt1hkEzTdnUCQNRyPEo0kkBxnXcP/vdCM
        vxKsDwaH5OOjHiVuBgDKlWoOytZGbJP82ezl09XdP9+nl18aWd69fHsbjb+tZld/XFx9+XyjhhkR
        Fy9oZY86t7FJHsXF0IctoRHMVcfXF6Pp1XQ2G3eBJpboM2yZ5Owynl2MLi7PRtOz8WQHrKOzyGoO
        PwYAAJvuP7cYSvyp5jAa7j0NMpslqvkhCUBR9NmjDLNjMUHU8Bi0MQiG3HVovT8JSIxeW+P9kbj/
        bU7so07Ge/14W088L/7763G0Xj3dr+7Tol7cXX4/4etLr1PXUNUGe9DnJH7wzz+QAahgmg771Yit
        P+8SvxoyDQoSfygFoAwt2waD5GOoTaHY1tgY7cpCzYu+79eH3//G2/RUCf07e7hJYfbz9n72dFOo
        YaEIDcfgwrLLf6gRXHDijAcXUivQMpbgguASiUEiECZCxiAgNUJvW4RIYBY7s8ruCil/8RDeamdr
        cAwu2EiEVs7hk7H1SRZwHVtfwgKP9bEEw2CgdJ0IhtaZxIU8454lN2BSopjIGUHIwp/Dn/DmvIcd
        FUjtGBZrSBRXrnRh2cH2URZqrbSEUEXan2jfOmRhXQydAjtYWCGxyd7zTr+UB4VcqPmPTaFi6mQk
        TN5Y3CfUnfO3hCQuYBDdMpI+IeoSV8a3WKj5plApuiCsY6Wz8oQsvX9J0SKtNdcxpX5mOftQSFeR
        tI/WeN0YekVhXRlqWEfS3Cak3pubLdQjI+1Oy9CBoA9DVrhkiCskOIHxeaGet9t8aWIrB/p3H4lc
        JCfrrhOuIwmyaHEN6lNH6fop/qKTfQ5kUMc4LJSQqSpntQmltjGULg+Ae8o8bReWAZm1RC3mFbWP
        YYmkc2uYnWYVXal3VU5I30yQ7lbbGu1rfwf6JDjS9Mfebp+36t3r2w5+ZT/vrO1ha/m4TBQX/GEJ
        qcoFx7XuX2B+viwx9RS53HO3Hdt3C08lik0SLfEVQy54Obme9QXVcSEfw+Prq11Uohh/gptOp4Nd
        k4rXLNjoymXRErluX6oqaYuj69lkMhlVarAd/A8AAP//AwC8Q0PdOAYAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8a0bed44aa602302-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 09 Jul 2024 22:59:54 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      alt-svc:
      - h3=":443"; ma=86400
      openai-organization:
      - langchain
      openai-processing-ms:
      - '3015'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-ratelimit-limit-requests:
      - '10000'
      x-ratelimit-limit-tokens:
      - '22000000'
      x-ratelimit-remaining-requests:
      - '9999'
      x-ratelimit-remaining-tokens:
      - '21996381'
      x-ratelimit-reset-requests:
      - 6ms
      x-ratelimit-reset-tokens:
      - 9ms
      x-request-id:
      - req_de7234cebffb9477026890d32df861b2
    status:
      code: 200
      message: OK
- request:
    body: '{"messages": [{"content": "Extract the relevant user preferences from the
      conversation.\n## Additional Instructions\n    \n<instructions>\nOnly extract
      pertinent user preferences, no temporal desires. Extract same user preferences
      only once independent if the user has said it multiple times.\n</instructions>",
      "role": "system"}, {"content": "<conversations>\n<conversation idx=0>\n<user
      id=34c2567e-34ec-404a-b8e9-f86b5084ced5>Set the interior lighting to something
      warm, I can''t stand these cool tones anymore.</user>\n<ai>Adjusting the interior
      lighting to a warm ambience. You should notice a cozier atmosphere now.</ai>\n</conversation>\n</conversations>",
      "role": "user"}, {"content": null, "role": "assistant", "tool_calls": [{"type":
      "function", "id": "call_puydGFBkN53McHrHDJJU3A2M", "function": {"name": "extract_user_preferences_v1",
      "arguments": "{\"pertinent_user_preferences\": {\"points_of_interest\": {\"restaurant\":
      0, \"fire_station\": 0, \"dancing_station\": 0, \"grocery_shopping\": 0}, \"routing\":
      {\"routing\": 0, \"traffic_and_conditions\": 0, \"parking\": 0}, \"comfort_settings\":
      {\"climate_control\": 0, \"lighting_and_ambience\": 1}, \"entertainment_and_media\":
      {\"music\": 0, \"radio_and_podcast\": 0}}}"}}]}, {"content": "Error:\n\n```\n11
      validation errors for PreferencesFunctionOutput\npertinent_user_preferences.points_of_interest.restaurant\n  Input
      should be a valid dictionary or instance of Restaurant [type=model_type, input_value=0,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.points_of_interest.fire_station\n  Input
      should be a valid dictionary or instance of FireStation [type=model_type, input_value=0,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.points_of_interest.dancing_station\n  Input
      should be a valid dictionary or instance of DanceHall [type=model_type, input_value=0,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.points_of_interest.grocery_shopping\n  Input
      should be a valid dictionary or instance of GroceryShopping [type=model_type,
      input_value=0, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.routing.routing\n  Input
      should be a valid dictionary or instance of Routing [type=model_type, input_value=0,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.routing.traffic_and_conditions\n  Input
      should be a valid dictionary or instance of TrafficAndConditions [type=model_type,
      input_value=0, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.routing.parking\n  Input
      should be a valid dictionary or instance of Parking [type=model_type, input_value=0,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.comfort_settings.climate_control\n  Input
      should be a valid dictionary or instance of ClimateControl [type=model_type,
      input_value=0, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.comfort_settings.lighting_and_ambience\n  Input
      should be a valid dictionary or instance of LightingAndAmbience [type=model_type,
      input_value=1, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.entertainment_and_media.music\n  Input
      should be a valid dictionary or instance of Music [type=model_type, input_value=0,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.entertainment_and_media.radio_and_podcast\n  Input
      should be a valid dictionary or instance of RadioAndPodcast [type=model_type,
      input_value=0, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\n```\nExpected
      Parameter Schema:\n\n```json\n{''$defs'': {''ClimateControl'': {''properties'':
      {''preferred_temperature'': {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''},
      ''type'': ''array''}, {''type'': ''null''}], ''title'': ''Preferred Temperature''},
      ''fan_speed_preferences'': {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''},
      ''type'': ''array''}, {''type'': ''null''}], ''title'': ''Fan Speed Preferences''},
      ''airflow_direction_preferences'': {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''},
      ''type'': ''array''}, {''type'': ''null''}], ''title'': ''Airflow Direction
      Preferences''}, ''seat_heating_preferences'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Seat Heating Preferences''}}, ''title'': ''ClimateControl'', ''type'': ''object''},
      ''DanceHall'': {''properties'': {''preferred_dancing_network'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Preferred Dancing Network''}, ''preferred_type_of_dancing_while_traveling'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preferred Type Of Dancing While Traveling''},
      ''preferred_type_of_dancing_at_everyday_points'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Preferred Type Of Dancing At Everyday Points''}, ''dancing_station_onsite_amenities'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Dancing Station Onsite Amenities''}}, ''title'':
      ''DanceHall'', ''type'': ''object''}, ''EntertainmentAndMedia'': {''properties'':
      {''music'': {''allOf'': [{''$ref'': ''#/$defs/Music''}]}, ''radio_and_podcast'':
      {''allOf'': [{''$ref'': ''#/$defs/RadioAndPodcast''}]}}, ''required'': [''music'',
      ''radio_and_podcast''], ''title'': ''EntertainmentAndMedia'', ''type'': ''object''},
      ''FireStation'': {''properties'': {''preferred_fire_station'': {''anyOf'': [{''items'':
      {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}],
      ''title'': ''Preferred Fire Station''}, ''willingness_to_donate'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Willingness To Donate''}, ''bingo_expertise'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Bingo Expertise''}}, ''title'': ''FireStation'', ''type'':
      ''object''}, ''GroceryShopping'': {''properties'': {''preferred_supermarket_chain'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preferred Supermarket Chain''}, ''preference_for_local_markets_farms_or_supermarket'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preference For Local Markets Farms Or Supermarket''}},
      ''title'': ''GroceryShopping'', ''type'': ''object''}, ''LightingAndAmbience'':
      {''properties'': {''interior_lighting_brightness_preferences'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Interior Lighting Brightness Preferences''}, ''interior_lighting_ambient_preferences'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Interior Lighting Ambient Preferences''},
      ''interior_lighting_color_preferences'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Interior Lighting Color Preferences''}}, ''title'': ''LightingAndAmbience'',
      ''type'': ''object''}, ''Music'': {''properties'': {''favorite_genres'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Favorite Genres''}, ''favorite_artists_or_bands'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Favorite Artists Or Bands''}, ''favorite_songs'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Favorite Songs''}, ''preferred_music_streaming_service'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preferred Music Streaming Service''}}, ''title'':
      ''Music'', ''type'': ''object''}, ''NavigationAndRouting'': {''properties'':
      {''routing'': {''allOf'': [{''$ref'': ''#/$defs/Routing''}]}, ''traffic_and_conditions'':
      {''allOf'': [{''$ref'': ''#/$defs/TrafficAndConditions''}]}, ''parking'': {''allOf'':
      [{''$ref'': ''#/$defs/Parking''}]}}, ''required'': [''routing'', ''traffic_and_conditions'',
      ''parking''], ''title'': ''NavigationAndRouting'', ''type'': ''object''}, ''OutputFormat'':
      {''properties'': {''sentence_preference_revealed'': {''title'': ''Sentence Preference
      Revealed'', ''type'': ''string''}, ''preference'': {''title'': ''Preference'',
      ''type'': ''string''}}, ''required'': [''sentence_preference_revealed'', ''preference''],
      ''title'': ''OutputFormat'', ''type'': ''object''}, ''Parking'': {''properties'':
      {''preferred_parking_type'': {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''},
      ''type'': ''array''}, {''type'': ''null''}], ''title'': ''Preferred Parking
      Type''}, ''price_sensitivity_for_paid_parking'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Price Sensitivity For Paid Parking''}, ''distance_willing_to_walk_from_parking_to_destination'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Distance Willing To Walk From Parking To
      Destination''}, ''preference_for_covered_parking'': {''anyOf'': [{''items'':
      {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}],
      ''title'': ''Preference For Covered Parking''}, ''need_for_handicapped_accessible_parking'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Need For Handicapped Accessible Parking''},
      ''preference_for_parking_with_security'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Preference For Parking With Security''}}, ''title'': ''Parking'', ''type'':
      ''object''}, ''PointsOfInterest'': {''properties'': {''restaurant'': {''allOf'':
      [{''$ref'': ''#/$defs/Restaurant''}]}, ''fire_station'': {''allOf'': [{''$ref'':
      ''#/$defs/FireStation''}]}, ''dancing_station'': {''allOf'': [{''$ref'': ''#/$defs/DanceHall''}]},
      ''grocery_shopping'': {''allOf'': [{''$ref'': ''#/$defs/GroceryShopping''}]}},
      ''required'': [''restaurant'', ''fire_station'', ''dancing_station'', ''grocery_shopping''],
      ''title'': ''PointsOfInterest'', ''type'': ''object''}, ''RadioAndPodcast'':
      {''properties'': {''preferred_radio_station'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Preferred Radio Station''}, ''favorite_podcast_genres'': {''anyOf'': [{''items'':
      {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}],
      ''title'': ''Favorite Podcast Genres''}, ''favorite_podcast_shows'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Favorite Podcast Shows''}, ''general_news_source'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''General News Source''}}, ''title'': ''RadioAndPodcast'',
      ''type'': ''object''}, ''Restaurant'': {''properties'': {''favourite_cuisine'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Favourite Cuisine''}, ''preferred_restaurant_type'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preferred Restaurant Type''}, ''fast_food_preference'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Fast Food Preference''}, ''desired_price_range'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Desired Price Range''}, ''dietary_preference'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Dietary Preference''}, ''preferred_payment_method'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preferred Payment Method''}}, ''title'':
      ''Restaurant'', ''type'': ''object''}, ''Routing'': {''properties'': {''avoidance_of_specific_road_types'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Avoidance Of Specific Road Types''}, ''priority_for_shortest_time_or_shortest_distance'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Priority For Shortest Time Or Shortest Distance''},
      ''tolerance_for_traffic'': {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''},
      ''type'': ''array''}, {''type'': ''null''}], ''title'': ''Tolerance For Traffic''}},
      ''title'': ''Routing'', ''type'': ''object''}, ''TrafficAndConditions'': {''properties'':
      {''traffic_information_source_preferences'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Traffic Information Source Preferences''}, ''willingness_to_take_longer_route_to_avoid_traffic'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Willingness To Take Longer Route To Avoid
      Traffic''}}, ''title'': ''TrafficAndConditions'', ''type'': ''object''}, ''UserPreferences'':
      {''properties'': {''points_of_interest'': {''allOf'': [{''$ref'': ''#/$defs/PointsOfInterest''}]},
      ''routing'': {''allOf'': [{''$ref'': ''#/$defs/NavigationAndRouting''}]}, ''comfort_settings'':
      {''allOf'': [{''$ref'': ''#/$defs/VehicleSettingsAndComfort''}]}, ''entertainment_and_media'':
      {''allOf'': [{''$ref'': ''#/$defs/EntertainmentAndMedia''}]}}, ''required'':
      [''points_of_interest'', ''routing'', ''comfort_settings'', ''entertainment_and_media''],
      ''title'': ''UserPreferences'', ''type'': ''object''}, ''VehicleSettingsAndComfort'':
      {''properties'': {''climate_control'': {''allOf'': [{''$ref'': ''#/$defs/ClimateControl''}]},
      ''lighting_and_ambience'': {''allOf'': [{''$ref'': ''#/$defs/LightingAndAmbience''}]}},
      ''required'': [''climate_control'', ''lighting_and_ambience''], ''title'': ''VehicleSettingsAndComfort'',
      ''type'': ''object''}}, ''description'': \"A function that extracts personal
      preferences of the user in the categories ''Points of Interest'', ''Navigation
      and Routing'', ''Vehicle Settings and Comfort'', ''Entertainment and Media''.\",
      ''properties'': {''pertinent_user_preferences'': {''allOf'': [{''$ref'': ''#/$defs/UserPreferences''}]}},
      ''required'': [''pertinent_user_preferences''], ''title'': ''extract_user_preferences_v1'',
      ''type'': ''object''}\n```\nPlease respond with a JSONPatch to correct the error
      for schema_id=[call_puydGFBkN53McHrHDJJU3A2M].", "role": "tool", "tool_call_id":
      "call_puydGFBkN53McHrHDJJU3A2M"}], "model": "gpt-4o", "n": 1, "stream": false,
      "temperature": 0.0, "tool_choice": {"type": "function", "function": {"name":
      "PatchFunctionParameters"}}, "tools": [{"type": "function", "function": {"name":
      "PatchFunctionParameters", "description": "Respond with all JSONPatch operations
      required to update the previous function call.\n\nUse to correct all validation
      errors in non-compliant function calls,\nor to extend or update existing structured
      data in the presence of new information.", "parameters": {"type": "object",
      "properties": {"schema_id": {"description": "The ID of the function you are
      patching.", "type": "string"}, "reasoning": {"description": "Think step-by-step,
      listing each validation error and the JSONPatch operation needed to correct
      it. Cite the fields in the JSONSchema you referenced in developing this plan.",
      "type": "string"}, "patches": {"description": "A list of JSONPatch operations
      to be applied to the previous tool call''s response.", "type": "array", "items":
      {"description": "A JSON Patch document represents an operation to be performed
      on a JSON document.\n\nNote that the op and path are ALWAYS required. Value
      is required for ALL operations except ''remove''.\n\nExamples:\n```json\n{\"op\":
      \"add\", \"path\": \"/a/b/c\", \"patch_value\": 1}\n{\"op\": \"replace\", \"path\":
      \"/a/b/c\", \"patch_value\": 2}\n{\"op\": \"remove\", \"path\": \"/a/b/c\"}\n```",
      "type": "object", "properties": {"op": {"description": "The operation to be
      performed. Must be one of ''add'', ''remove'', ''replace''.", "enum": ["add",
      "remove", "replace"], "type": "string"}, "path": {"description": "A JSON Pointer
      path that references a location within the target document where the operation
      is performed.", "type": "string"}, "value": {"description": "The value to be
      used within the operation. REQUIRED for ''add'', ''replace'', and ''test'' operations.",
      "anyOf": [{"type": "string"}, {"type": "integer"}, {"type": "boolean"}, {"type":
      "number"}, {"type": "array", "items": {"anyOf": [{"type": "string"}, {"type":
      "integer"}, {"type": "boolean"}, {"type": "number"}]}}, {"type": "object", "additionalProperties":
      {"anyOf": [{"type": "string"}, {"type": "integer"}, {"type": "boolean"}, {"type":
      "number"}]}}, {"type": "array", "items": {"anyOf": [{"type": "string"}, {"type":
      "integer"}, {"type": "boolean"}, {"type": "number"}, {"type": "array", "items":
      {"anyOf": [{"type": "string"}, {"type": "integer"}, {"type": "boolean"}, {"type":
      "number"}]}}, {"type": "object", "additionalProperties": {"anyOf": [{"type":
      "string"}, {"type": "integer"}, {"type": "boolean"}, {"type": "number"}]}}]}},
      {"type": "object", "additionalProperties": {"anyOf": [{"type": "string"}, {"type":
      "integer"}, {"type": "boolean"}, {"type": "number"}, {"type": "array", "items":
      {"anyOf": [{"type": "string"}, {"type": "integer"}, {"type": "boolean"}, {"type":
      "number"}]}}, {"type": "object", "additionalProperties": {"anyOf": [{"type":
      "string"}, {"type": "integer"}, {"type": "boolean"}, {"type": "number"}]}}]}}]}},
      "required": ["op", "path", "value"]}}}, "required": ["schema_id", "reasoning",
      "patches"]}}}]}'
    headers: {}
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2yUTXPjNgyG7/4VGF5ysVM7zsfat+6kSZpOMtvu9mMbZTQMBUncUCQXhJK4Hv33
        DinLdjzrg4cE8D4AQRHrEYDQhViCULVk1XgzWXz75fwWP/zxb/nx77vPb82ZnF39+p85p6+//bUQ
        46hwT99Q8aA6Vq7xBlk727sVoWSM1NnFyfTs/GyxmCVH4wo0UVZ5npy6ycn05HQyPZvM5hth7bTC
        IJbwMAIAWKf/WKIt8E0sYToeLA2GICsUy20QgCBnokXIEHRgaVmMd07lLKONVdvWmD0HO2dyJY3Z
        Je5/6731rk/SmPz66uVmNr9/Lj/ff1evvxdf/7lZXc4ur/fy9eiVTwWVrVXb/uz5t/blQTIAYWWT
        tJ8kq/pqE/hJkmyQkcIBCkBIqtoGLcdjiHUmgqqxkbkuMrHM+rp9uyqurz4+35/N79QN3Vze3v45
        //nkLhPjTBDK4Ky2VYr/UiNoq1lLA9r6lqENWIC2jBVSAG0DoyzAlcA1AuH3VhMW0H8bEJhaxS1h
        gNIRoFQ1eMISCa1CUJKxcrQ6hi8OlCOKGq51GMMrgkUsgB14ci+6wJRgCDrk7/ADcwz4ghZ0KmwF
        khCw8Rztbwo9J0VEHhld1axtlUtb5LJ50rG2I3ittaoh1K41BRCWpi8OYwfoKOyfI6JeJTUwoI5T
        K328MwyZWD6sM+F86iihN1LhEFAn408eibVFy3mk5zt2SIEv0rSYieU6E95pyyF3ZR4vgTBwb48r
        2ZK0ad+NM1FqwjywjF/MYCukVfGoB+aKnEJa5aF23vd3v+6ig1zLm/27TfQxybLUKrVNOVvoSAyD
        10t63icp15SOOA/IERJ6pDK6kYxRz+TMIP7hlfSKdGrtKN/GKGfcQcuWD5mIF5KJx5Qco4iltvFl
        JGiDhZY9sWmDVkNmkoV2KcK7Qsm+u13XdY+dePfUutGP1o+bVbcdUcZVntxTOJg4otRWhzrvn1t8
        q4Gd71NE3GMahe276SY8ucZzzu4ZbQSezi4ueqDYTd+de9YP3DTcWJo93fz8w2hTpAirwNjkpbYV
        kiedhqMofa5werGYz+fTUoy60f8AAAD//wMACgpAySUGAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8a0bed463e5ef947-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 09 Jul 2024 22:59:54 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      alt-svc:
      - h3=":443"; ma=86400
      openai-organization:
      - langchain
      openai-processing-ms:
      - '2832'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-ratelimit-limit-requests:
      - '10000'
      x-ratelimit-limit-tokens:
      - '22000000'
      x-ratelimit-remaining-requests:
      - '9999'
      x-ratelimit-remaining-tokens:
      - '21996535'
      x-ratelimit-reset-requests:
      - 6ms
      x-ratelimit-reset-tokens:
      - 9ms
      x-request-id:
      - req_c07997df3aa1e74d345c8ec73ef8bf39
    status:
      code: 200
      message: OK
- request:
    body: '{"messages": [{"content": "Extract the relevant user preferences from the
      conversation.\n## Additional Instructions\n    \n<instructions>\nOnly extract
      pertinent user preferences, no temporal desires. Extract same user preferences
      only once independent if the user has said it multiple times.\n</instructions>",
      "role": "system"}, {"content": "<conversations>\n<conversation idx=0>\n<user
      id=0a1708e8-1956-4f6b-aa23-f1698ecd6427>Make the lights yellow inside</user>\n<ai>Certainly,
      changing the interior lighting to yellow now for a warm and cozy atmosphere.</ai>\n</conversation>\n</conversations>",
      "role": "user"}, {"content": null, "role": "assistant", "tool_calls": [{"type":
      "function", "id": "call_g6QPIz1U8MQHK35oW6OYzJNg", "function": {"name": "extract_user_preferences_v1",
      "arguments": "{\"pertinent_user_preferences\": {\"points_of_interest\": {\"restaurant\":
      0, \"fire_station\": 0, \"dancing_station\": 0, \"grocery_shopping\": 0}, \"routing\":
      {\"routing\": 0, \"traffic_and_conditions\": 0, \"parking\": 0}, \"comfort_settings\":
      {\"climate_control\": 0, \"lighting_and_ambience\": 1}, \"entertainment_and_media\":
      {\"music\": 0, \"radio_and_podcast\": 0}}}"}}]}, {"content": "Error:\n\n```\n11
      validation errors for PreferencesFunctionOutput\npertinent_user_preferences.points_of_interest.restaurant\n  Input
      should be a valid dictionary or instance of Restaurant [type=model_type, input_value=0,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.points_of_interest.fire_station\n  Input
      should be a valid dictionary or instance of FireStation [type=model_type, input_value=0,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.points_of_interest.dancing_station\n  Input
      should be a valid dictionary or instance of DanceHall [type=model_type, input_value=0,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.points_of_interest.grocery_shopping\n  Input
      should be a valid dictionary or instance of GroceryShopping [type=model_type,
      input_value=0, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.routing.routing\n  Input
      should be a valid dictionary or instance of Routing [type=model_type, input_value=0,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.routing.traffic_and_conditions\n  Input
      should be a valid dictionary or instance of TrafficAndConditions [type=model_type,
      input_value=0, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.routing.parking\n  Input
      should be a valid dictionary or instance of Parking [type=model_type, input_value=0,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.comfort_settings.climate_control\n  Input
      should be a valid dictionary or instance of ClimateControl [type=model_type,
      input_value=0, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.comfort_settings.lighting_and_ambience\n  Input
      should be a valid dictionary or instance of LightingAndAmbience [type=model_type,
      input_value=1, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.entertainment_and_media.music\n  Input
      should be a valid dictionary or instance of Music [type=model_type, input_value=0,
      input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\npertinent_user_preferences.entertainment_and_media.radio_and_podcast\n  Input
      should be a valid dictionary or instance of RadioAndPodcast [type=model_type,
      input_value=0, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.7/v/model_type\n```\nExpected
      Parameter Schema:\n\n```json\n{''$defs'': {''ClimateControl'': {''properties'':
      {''preferred_temperature'': {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''},
      ''type'': ''array''}, {''type'': ''null''}], ''title'': ''Preferred Temperature''},
      ''fan_speed_preferences'': {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''},
      ''type'': ''array''}, {''type'': ''null''}], ''title'': ''Fan Speed Preferences''},
      ''airflow_direction_preferences'': {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''},
      ''type'': ''array''}, {''type'': ''null''}], ''title'': ''Airflow Direction
      Preferences''}, ''seat_heating_preferences'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Seat Heating Preferences''}}, ''title'': ''ClimateControl'', ''type'': ''object''},
      ''DanceHall'': {''properties'': {''preferred_dancing_network'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Preferred Dancing Network''}, ''preferred_type_of_dancing_while_traveling'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preferred Type Of Dancing While Traveling''},
      ''preferred_type_of_dancing_at_everyday_points'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Preferred Type Of Dancing At Everyday Points''}, ''dancing_station_onsite_amenities'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Dancing Station Onsite Amenities''}}, ''title'':
      ''DanceHall'', ''type'': ''object''}, ''EntertainmentAndMedia'': {''properties'':
      {''music'': {''allOf'': [{''$ref'': ''#/$defs/Music''}]}, ''radio_and_podcast'':
      {''allOf'': [{''$ref'': ''#/$defs/RadioAndPodcast''}]}}, ''required'': [''music'',
      ''radio_and_podcast''], ''title'': ''EntertainmentAndMedia'', ''type'': ''object''},
      ''FireStation'': {''properties'': {''preferred_fire_station'': {''anyOf'': [{''items'':
      {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}],
      ''title'': ''Preferred Fire Station''}, ''willingness_to_donate'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Willingness To Donate''}, ''bingo_expertise'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Bingo Expertise''}}, ''title'': ''FireStation'', ''type'':
      ''object''}, ''GroceryShopping'': {''properties'': {''preferred_supermarket_chain'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preferred Supermarket Chain''}, ''preference_for_local_markets_farms_or_supermarket'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preference For Local Markets Farms Or Supermarket''}},
      ''title'': ''GroceryShopping'', ''type'': ''object''}, ''LightingAndAmbience'':
      {''properties'': {''interior_lighting_brightness_preferences'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Interior Lighting Brightness Preferences''}, ''interior_lighting_ambient_preferences'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Interior Lighting Ambient Preferences''},
      ''interior_lighting_color_preferences'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Interior Lighting Color Preferences''}}, ''title'': ''LightingAndAmbience'',
      ''type'': ''object''}, ''Music'': {''properties'': {''favorite_genres'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Favorite Genres''}, ''favorite_artists_or_bands'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Favorite Artists Or Bands''}, ''favorite_songs'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Favorite Songs''}, ''preferred_music_streaming_service'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preferred Music Streaming Service''}}, ''title'':
      ''Music'', ''type'': ''object''}, ''NavigationAndRouting'': {''properties'':
      {''routing'': {''allOf'': [{''$ref'': ''#/$defs/Routing''}]}, ''traffic_and_conditions'':
      {''allOf'': [{''$ref'': ''#/$defs/TrafficAndConditions''}]}, ''parking'': {''allOf'':
      [{''$ref'': ''#/$defs/Parking''}]}}, ''required'': [''routing'', ''traffic_and_conditions'',
      ''parking''], ''title'': ''NavigationAndRouting'', ''type'': ''object''}, ''OutputFormat'':
      {''properties'': {''sentence_preference_revealed'': {''title'': ''Sentence Preference
      Revealed'', ''type'': ''string''}, ''preference'': {''title'': ''Preference'',
      ''type'': ''string''}}, ''required'': [''sentence_preference_revealed'', ''preference''],
      ''title'': ''OutputFormat'', ''type'': ''object''}, ''Parking'': {''properties'':
      {''preferred_parking_type'': {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''},
      ''type'': ''array''}, {''type'': ''null''}], ''title'': ''Preferred Parking
      Type''}, ''price_sensitivity_for_paid_parking'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Price Sensitivity For Paid Parking''}, ''distance_willing_to_walk_from_parking_to_destination'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Distance Willing To Walk From Parking To
      Destination''}, ''preference_for_covered_parking'': {''anyOf'': [{''items'':
      {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}],
      ''title'': ''Preference For Covered Parking''}, ''need_for_handicapped_accessible_parking'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Need For Handicapped Accessible Parking''},
      ''preference_for_parking_with_security'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Preference For Parking With Security''}}, ''title'': ''Parking'', ''type'':
      ''object''}, ''PointsOfInterest'': {''properties'': {''restaurant'': {''allOf'':
      [{''$ref'': ''#/$defs/Restaurant''}]}, ''fire_station'': {''allOf'': [{''$ref'':
      ''#/$defs/FireStation''}]}, ''dancing_station'': {''allOf'': [{''$ref'': ''#/$defs/DanceHall''}]},
      ''grocery_shopping'': {''allOf'': [{''$ref'': ''#/$defs/GroceryShopping''}]}},
      ''required'': [''restaurant'', ''fire_station'', ''dancing_station'', ''grocery_shopping''],
      ''title'': ''PointsOfInterest'', ''type'': ''object''}, ''RadioAndPodcast'':
      {''properties'': {''preferred_radio_station'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Preferred Radio Station''}, ''favorite_podcast_genres'': {''anyOf'': [{''items'':
      {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}],
      ''title'': ''Favorite Podcast Genres''}, ''favorite_podcast_shows'': {''anyOf'':
      [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'':
      ''null''}], ''title'': ''Favorite Podcast Shows''}, ''general_news_source'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''General News Source''}}, ''title'': ''RadioAndPodcast'',
      ''type'': ''object''}, ''Restaurant'': {''properties'': {''favourite_cuisine'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Favourite Cuisine''}, ''preferred_restaurant_type'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preferred Restaurant Type''}, ''fast_food_preference'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Fast Food Preference''}, ''desired_price_range'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Desired Price Range''}, ''dietary_preference'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Dietary Preference''}, ''preferred_payment_method'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Preferred Payment Method''}}, ''title'':
      ''Restaurant'', ''type'': ''object''}, ''Routing'': {''properties'': {''avoidance_of_specific_road_types'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Avoidance Of Specific Road Types''}, ''priority_for_shortest_time_or_shortest_distance'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Priority For Shortest Time Or Shortest Distance''},
      ''tolerance_for_traffic'': {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''},
      ''type'': ''array''}, {''type'': ''null''}], ''title'': ''Tolerance For Traffic''}},
      ''title'': ''Routing'', ''type'': ''object''}, ''TrafficAndConditions'': {''properties'':
      {''traffic_information_source_preferences'': {''anyOf'': [{''items'': {''$ref'':
      ''#/$defs/OutputFormat''}, ''type'': ''array''}, {''type'': ''null''}], ''title'':
      ''Traffic Information Source Preferences''}, ''willingness_to_take_longer_route_to_avoid_traffic'':
      {''anyOf'': [{''items'': {''$ref'': ''#/$defs/OutputFormat''}, ''type'': ''array''},
      {''type'': ''null''}], ''title'': ''Willingness To Take Longer Route To Avoid
      Traffic''}}, ''title'': ''TrafficAndConditions'', ''type'': ''object''}, ''UserPreferences'':
      {''properties'': {''points_of_interest'': {''allOf'': [{''$ref'': ''#/$defs/PointsOfInterest''}]},
      ''routing'': {''allOf'': [{''$ref'': ''#/$defs/NavigationAndRouting''}]}, ''comfort_settings'':
      {''allOf'': [{''$ref'': ''#/$defs/VehicleSettingsAndComfort''}]}, ''entertainment_and_media'':
      {''allOf'': [{''$ref'': ''#/$defs/EntertainmentAndMedia''}]}}, ''required'':
      [''points_of_interest'', ''routing'', ''comfort_settings'', ''entertainment_and_media''],
      ''title'': ''UserPreferences'', ''type'': ''object''}, ''VehicleSettingsAndComfort'':
      {''properties'': {''climate_control'': {''allOf'': [{''$ref'': ''#/$defs/ClimateControl''}]},
      ''lighting_and_ambience'': {''allOf'': [{''$ref'': ''#/$defs/LightingAndAmbience''}]}},
      ''required'': [''climate_control'', ''lighting_and_ambience''], ''title'': ''VehicleSettingsAndComfort'',
      ''type'': ''object''}}, ''description'': \"A function that extracts personal
      preferences of the user in the categories ''Points of Interest'', ''Navigation
      and Routing'', ''Vehicle Settings and Comfort'', ''Entertainment and Media''.\",
      ''properties'': {''pertinent_user_preferences'': {''allOf'': [{''$ref'': ''#/$defs/UserPreferences''}]}},
      ''required'': [''pertinent_user_preferences''], ''title'': ''extract_user_preferences_v1'',
      ''type'': ''object''}\n```\nPlease respond with a JSONPatch to correct the error
      for schema_id=[call_g6QPIz1U8MQHK35oW6OYzJNg].", "role": "tool", "tool_call_id":
      "call_g6QPIz1U8MQHK35oW6OYzJNg"}], "model": "gpt-4o", "n": 1, "stream": false,
      "temperature": 0.0, "tool_choice": {"type": "function", "function": {"name":
      "PatchFunctionParameters"}}, "tools": [{"type": "function", "function": {"name":
      "PatchFunctionParameters", "description": "Respond with all JSONPatch operations
      required to update the previous function call.\n\nUse to correct all validation
      errors in non-compliant function calls,\nor to extend or update existing structured
      data in the presence of new information.", "parameters": {"type": "object",
      "properties": {"schema_id": {"description": "The ID of the function you are
      patching.", "type": "string"}, "reasoning": {"description": "Think step-by-step,
      listing each validation error and the JSONPatch operation needed to correct
      it. Cite the fields in the JSONSchema you referenced in developing this plan.",
      "type": "string"}, "patches": {"description": "A list of JSONPatch operations
      to be applied to the previous tool call''s response.", "type": "array", "items":
      {"description": "A JSON Patch document represents an operation to be performed
      on a JSON document.\n\nNote that the op and path are ALWAYS required. Value
      is required for ALL operations except ''remove''.\n\nExamples:\n```json\n{\"op\":
      \"add\", \"path\": \"/a/b/c\", \"patch_value\": 1}\n{\"op\": \"replace\", \"path\":
      \"/a/b/c\", \"patch_value\": 2}\n{\"op\": \"remove\", \"path\": \"/a/b/c\"}\n```",
      "type": "object", "properties": {"op": {"description": "The operation to be
      performed. Must be one of ''add'', ''remove'', ''replace''.", "enum": ["add",
      "remove", "replace"], "type": "string"}, "path": {"description": "A JSON Pointer
      path that references a location within the target document where the operation
      is performed.", "type": "string"}, "value": {"description": "The value to be
      used within the operation. REQUIRED for ''add'', ''replace'', and ''test'' operations.",
      "anyOf": [{"type": "string"}, {"type": "integer"}, {"type": "boolean"}, {"type":
      "number"}, {"type": "array", "items": {"anyOf": [{"type": "string"}, {"type":
      "integer"}, {"type": "boolean"}, {"type": "number"}]}}, {"type": "object", "additionalProperties":
      {"anyOf": [{"type": "string"}, {"type": "integer"}, {"type": "boolean"}, {"type":
      "number"}]}}, {"type": "array", "items": {"anyOf": [{"type": "string"}, {"type":
      "integer"}, {"type": "boolean"}, {"type": "number"}, {"type": "array", "items":
      {"anyOf": [{"type": "string"}, {"type": "integer"}, {"type": "boolean"}, {"type":
      "number"}]}}, {"type": "object", "additionalProperties": {"anyOf": [{"type":
      "string"}, {"type": "integer"}, {"type": "boolean"}, {"type": "number"}]}}]}},
      {"type": "object", "additionalProperties": {"anyOf": [{"type": "string"}, {"type":
      "integer"}, {"type": "boolean"}, {"type": "number"}, {"type": "array", "items":
      {"anyOf": [{"type": "string"}, {"type": "integer"}, {"type": "boolean"}, {"type":
      "number"}]}}, {"type": "object", "additionalProperties": {"anyOf": [{"type":
      "string"}, {"type": "integer"}, {"type": "boolean"}, {"type": "number"}]}}]}}]}},
      "required": ["op", "path", "value"]}}}, "required": ["schema_id", "reasoning",
      "patches"]}}}]}'
    headers: {}
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2xUTW/jOAy951cQuvSSdpO0SSe5Lbofs13MTKfofhR1YagybWtGFlWKbpsG+e8L
        2UmTZscHQ+Lje6QokasBgLKFWoAytRbTBHc8//br7PL2po0P1+H5Att/X2/LyevLhXPz6d9qmBj0
        8A2NbFknhprgUCz5HjaMWjCpjs8no+lsOp+PO6ChAl2iVUGOz+h4MpqcHY+mx+PTDbEmazCqBdwN
        AABW3T+l6At8UQsYDbeWBmPUFarFmxOAYnLJonSMNor2ooY70JAX9Clr3zq3BwiRy412bhe4/1Z7
        612dtHP55OfZL/66unn8/fPr40f9yTaXvAwX13vxeull6BIqW2/e6rOHv9kXB8EAlNdNx73SYurf
        No5XmnWDghwPpACU5qpt0Es6hlplKpoaG53bIlOLrM+7mn29+uN1/NeHT18//nk6pX9mX25fLz9X
        mRpmilFH8tZXnf9NjWC9FasdWB9agTZiAdYLVsgRrI+CugAqQWoExsfWMhbQvw2Iwq2RljFCSQyo
        TQ2BsURGbxCMFqyIlydwQ2CIOXGktnEIzwgesQAhCExPtsAugA6BKbDVgv+LsQux1R0CPqEH2yW3
        BM0I2ARJ9heDQTpGkj1ytqrF+irXvsh182BTfkfwXFtTQ6ypdQUwlq5PEFMV+CjunyVJLdE5eoat
        2ElX0JBuDmOmFnerTFHo6soYnDa4dag7408BWaxHL3nSz3fqsXN80q7FTC1WmQpkvcScyjxdBWOU
        3p5WumXtu/16mKnSMuZRdHo3W1uhvUmHPTBXTAZ5mceaQuhfwGqdAKZWNvt3m4QJ67K0piucIV/Y
        pBi3aND8fV/JUFMSSx5RkkjsJY2zjRZMfGFyW/IPL6VndKe2xPmbjyFHByVb3GWqv5JM3XfhMdFE
        W586pJNtsLC612zaaM02NuvCUucRqDC6r+96vV7fr9W7llsPfrS+36zWb6PKURWYHuLB5FGl9TbW
        ed92qWejUOhDJLn7biS276acCkxNkFzoO/okeDaezXpBtZvCO3g8n2xQIdFuj3c6/TDYJKniMgo2
        eWl9hRzYdkNSlSEvpuez09F5OR+pwXrwHwAAAP//AwAidtHZLQYAAA==
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8a0bed47ba0d679e-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 09 Jul 2024 22:59:54 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      alt-svc:
      - h3=":443"; ma=86400
      openai-organization:
      - langchain
      openai-processing-ms:
      - '2956'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-ratelimit-limit-requests:
      - '10000'
      x-ratelimit-limit-tokens:
      - '22000000'
      x-ratelimit-remaining-requests:
      - '9999'
      x-ratelimit-remaining-tokens:
      - '21996549'
      x-ratelimit-reset-requests:
      - 6ms
      x-ratelimit-reset-tokens:
      - 9ms
      x-request-id:
      - req_4938728ab111a03df5e11eb75bd7ee0f
    status:
      code: 200
      message: OK
- request:
    body: '{"messages": [{"content": "Extract the relevant user preferences from the
      conversation.\n## Additional Instructions\n    \n<instructions>\nOnly extract
      pertinent user preferences, no temporal desires. Extract same user preferences
      only once independent if the user has said it multiple times.\n</instructions>",
      "role": "system"}, {"content": "<conversations>\n<conversation idx=0>\n<user
      id=82ee6962-2fd4-4add-a2dc-d34ae8e21da1>How''s the traffic ahead on this route?</user>\n<ai>The
      traffic in Mariani is currently flowing smoothly with no delays on your route.</ai>\n<user
      id=82ee6962-2fd4-4add-a2dc-d34ae8e21da1>Great, can we put on some music? I don''t
      like driving in silence.</user>\n<ai>Of course, would you like to choose a radio
      station or should I select a playlist for you?</ai>\n<user id=82ee6962-2fd4-4add-a2dc-d34ae8e21da1>Hmm,
      let''s go with a playlist, something upbeat and cheerful, you know the kind
      that''s always on the radio.</user>\n<ai>I have a Pop Hits playlist that fits
      that description. Shall I play it now?</ai>\n<user id=82ee6962-2fd4-4add-a2dc-d34ae8e21da1>That
      sounds perfect, pop music always lifts my spirits.</user>\n<ai>Playing the Pop
      Hits playlist. Enjoy your drive with some uplifting tunes!</ai>\n</conversation>\n</conversations>",
      "role": "user"}], "model": "gpt-4o", "n": 1, "stream": false, "temperature":
      0.0, "tools": [{"type": "function", "function": {"name": "extract_user_preferences_v1",
      "description": "A function that extracts personal preferences of the user in
      the categories ''Points of Interest'', ''Navigation and Routing'', ''Vehicle
      Settings and Comfort'', ''Entertainment and Media''.", "parameters": {"$defs":
      {"ClimateControl": {"properties": {"preferred_temperature": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Preferred Temperature"}, "fan_speed_preferences": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Fan
      Speed Preferences"}, "airflow_direction_preferences": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Airflow
      Direction Preferences"}, "seat_heating_preferences": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Seat
      Heating Preferences"}}, "title": "ClimateControl", "type": "object"}, "DanceHall":
      {"properties": {"preferred_dancing_network": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Dancing Network"},
      "preferred_type_of_dancing_while_traveling": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Type Of Dancing While
      Traveling"}, "preferred_type_of_dancing_at_everyday_points": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Preferred Type Of Dancing At Everyday Points"}, "dancing_station_onsite_amenities":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Dancing Station Onsite Amenities"}}, "title": "DanceHall",
      "type": "object"}, "EntertainmentAndMedia": {"properties": {"music": {"allOf":
      [{"$ref": "#/$defs/Music"}]}, "radio_and_podcast": {"allOf": [{"$ref": "#/$defs/RadioAndPodcast"}]}},
      "required": ["music", "radio_and_podcast"], "title": "EntertainmentAndMedia",
      "type": "object"}, "FireStation": {"properties": {"preferred_fire_station":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Fire Station"}, "willingness_to_donate": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Willingness To Donate"}, "bingo_expertise": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Bingo
      Expertise"}}, "title": "FireStation", "type": "object"}, "GroceryShopping":
      {"properties": {"preferred_supermarket_chain": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preferred
      Supermarket Chain"}, "preference_for_local_markets_farms_or_supermarket": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Preference For Local Markets Farms Or Supermarket"}}, "title": "GroceryShopping",
      "type": "object"}, "LightingAndAmbience": {"properties": {"interior_lighting_brightness_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Brightness Preferences"}, "interior_lighting_ambient_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Ambient Preferences"}, "interior_lighting_color_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Color Preferences"}}, "title": "LightingAndAmbience",
      "type": "object"}, "Music": {"properties": {"favorite_genres": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Favorite Genres"}, "favorite_artists_or_bands": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Favorite
      Artists Or Bands"}, "favorite_songs": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favorite Songs"}, "preferred_music_streaming_service":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Music Streaming Service"}}, "title": "Music",
      "type": "object"}, "NavigationAndRouting": {"properties": {"routing": {"allOf":
      [{"$ref": "#/$defs/Routing"}]}, "traffic_and_conditions": {"allOf": [{"$ref":
      "#/$defs/TrafficAndConditions"}]}, "parking": {"allOf": [{"$ref": "#/$defs/Parking"}]}},
      "required": ["routing", "traffic_and_conditions", "parking"], "title": "NavigationAndRouting",
      "type": "object"}, "OutputFormat": {"properties": {"sentence_preference_revealed":
      {"title": "Sentence Preference Revealed", "type": "string"}, "preference": {"title":
      "Preference", "type": "string"}}, "required": ["sentence_preference_revealed",
      "preference"], "title": "OutputFormat", "type": "object"}, "Parking": {"properties":
      {"preferred_parking_type": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Parking Type"}, "price_sensitivity_for_paid_parking":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Price Sensitivity For Paid Parking"}, "distance_willing_to_walk_from_parking_to_destination":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Distance Willing To Walk From Parking To Destination"},
      "preference_for_covered_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preference For Covered Parking"},
      "need_for_handicapped_accessible_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Need For Handicapped Accessible
      Parking"}, "preference_for_parking_with_security": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preference
      For Parking With Security"}}, "title": "Parking", "type": "object"}, "PointsOfInterest":
      {"properties": {"restaurant": {"allOf": [{"$ref": "#/$defs/Restaurant"}]}, "fire_station":
      {"allOf": [{"$ref": "#/$defs/FireStation"}]}, "dancing_station": {"allOf": [{"$ref":
      "#/$defs/DanceHall"}]}, "grocery_shopping": {"allOf": [{"$ref": "#/$defs/GroceryShopping"}]}},
      "required": ["restaurant", "fire_station", "dancing_station", "grocery_shopping"],
      "title": "PointsOfInterest", "type": "object"}, "RadioAndPodcast": {"properties":
      {"preferred_radio_station": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Radio Station"}, "favorite_podcast_genres":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Favorite Podcast Genres"}, "favorite_podcast_shows": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Favorite Podcast Shows"}, "general_news_source": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "General News Source"}}, "title": "RadioAndPodcast", "type": "object"}, "Restaurant":
      {"properties": {"favourite_cuisine": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favourite Cuisine"}, "preferred_restaurant_type":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Restaurant Type"}, "fast_food_preference": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Fast Food Preference"}, "desired_price_range": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Desired Price Range"}, "dietary_preference": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Dietary
      Preference"}, "preferred_payment_method": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Payment Method"}},
      "title": "Restaurant", "type": "object"}, "Routing": {"properties": {"avoidance_of_specific_road_types":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Avoidance Of Specific Road Types"}, "priority_for_shortest_time_or_shortest_distance":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Priority For Shortest Time Or Shortest Distance"}, "tolerance_for_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Tolerance For Traffic"}}, "title": "Routing", "type": "object"},
      "TrafficAndConditions": {"properties": {"traffic_information_source_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Traffic Information Source Preferences"}, "willingness_to_take_longer_route_to_avoid_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Willingness To Take Longer Route To Avoid Traffic"}}, "title":
      "TrafficAndConditions", "type": "object"}, "UserPreferences": {"properties":
      {"points_of_interest": {"allOf": [{"$ref": "#/$defs/PointsOfInterest"}]}, "routing":
      {"allOf": [{"$ref": "#/$defs/NavigationAndRouting"}]}, "comfort_settings": {"allOf":
      [{"$ref": "#/$defs/VehicleSettingsAndComfort"}]}, "entertainment_and_media":
      {"allOf": [{"$ref": "#/$defs/EntertainmentAndMedia"}]}}, "required": ["points_of_interest",
      "routing", "comfort_settings", "entertainment_and_media"], "title": "UserPreferences",
      "type": "object"}, "VehicleSettingsAndComfort": {"properties": {"climate_control":
      {"allOf": [{"$ref": "#/$defs/ClimateControl"}]}, "lighting_and_ambience": {"allOf":
      [{"$ref": "#/$defs/LightingAndAmbience"}]}}, "required": ["climate_control",
      "lighting_and_ambience"], "title": "VehicleSettingsAndComfort", "type": "object"}},
      "description": "A function that extracts personal preferences of the user in
      the categories ''Points of Interest'', ''Navigation and Routing'', ''Vehicle
      Settings and Comfort'', ''Entertainment and Media''.", "properties": {"pertinent_user_preferences":
      {"allOf": [{"$ref": "#/$defs/UserPreferences"}]}}, "required": ["pertinent_user_preferences"],
      "title": "extract_user_preferences_v1", "type": "object"}}}]}'
    headers: {}
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2xT24rbMBB991cIPSfFuZO8belloVu6LbSUNotQ5JGjRLdK47DZ4H8vsp3Em9YP
        ZnTOnKOZYXTKCKGqoCtCxZajMF4Pl7v380cjHx5efh7117tP+eOPu+LbB/yy239/SwdJ4TY7EHhW
        vRHOeA2onG1pEYAjJNfRYpzP5rPlctEQxhWgk6z0OJy64TgfT4f5bDiadMKtUwIiXZHfGSGEnJp/
        KtEW8ExXJB+cEQMx8hLo6pJECA1OJ4TyGFVEbpEOrqRwFsGmqm2ldY9A5zQTXOvrxe136sXXOXGt
        2R9XfH6513JavYv6MPol5x8P9+Od6d3XWh99U5CsrLjMp8df8NXNZYRQy02jhWcMXCCrIgTmA0gI
        YAVEdhjd2BFCeSgrAxZTK/S0ph4CKgv2X/marhLvlMXInGTKIgSI2OIp4lXgNp3zwZpKFYBF5Kna
        Diq4FcqWN2gZnIBwZHHrvFe2THA9WNPgKmyPp/4hSTBwKZVg3BZMOFuoZJcKHA3W1POw79kIZ6QL
        yCJgcujaEFoZjpDUGJzufLUqtympMeZmo1LjZyNI/SJXNo2ryTBQKN76mSoq0RUQeKFck+BdIXgz
        obyua/pq9nX2v/ipi+rL3mpX+uA28WYNqVRWxS0LwGOzDv2tzM6mT80rqV4tPvXBGY8M3R5ssp1N
        F60rvb7LK7ucdSQ65PqKz6fjrKuTxmNEMEwqW0LwQTWPhkrPBOSL5WQyySXN6uwvAAAA//8DAGGh
        UQg9BAAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8a0bed67ab99fa05-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 09 Jul 2024 22:59:58 GMT
      Server:
      - cloudflare
      Set-Cookie:
      - __cf_bm=MXVN37RHrLJj5L3xFRwO9ETjg7gmiFvtWQ2xzBfsiiI-1720565998-1.0.1.1-b4y65ZKtpIr.hX7R8vB4HMLmrIHI52MGrKVjs_K1vnjDeOFoUFI3jmheTloEAQ6ssDnpQmKj1kAvwqA8xuYLjg;
        path=/; expires=Tue, 09-Jul-24 23:29:58 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=T0z4uJkNu2FOELjVo_yq_.D6aHt9QEE6dP9WPeJLfpw-1720565998432-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Transfer-Encoding:
      - chunked
      alt-svc:
      - h3=":443"; ma=86400
      openai-organization:
      - langchain
      openai-processing-ms:
      - '1484'
      openai-version:
      - '2020-10-01'
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-ratelimit-limit-requests:
      - '10000'
      x-ratelimit-limit-tokens:
      - '22000000'
      x-ratelimit-remaining-requests:
      - '9999'
      x-ratelimit-remaining-tokens:
      - '21999684'
      x-ratelimit-reset-requests:
      - 6ms
      x-ratelimit-reset-tokens:
      - 0s
      x-request-id:
      - req_b56e3f2f9835b9d5d5eca47ad4944a3b
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens": 1024, "messages": [{"role": "user", "content": "<conversations>\n<conversation
      idx=0>\n<user id=62e662f9-f404-4a79-8efc-81c8bf57045a>What''s interesting around
      Mariani these days?</user>\n<ai>In Mariani, you can explore the Mariani Junction,
      nearby tea gardens, and some local heritage sites. Would you like directions
      to any of these places?</ai>\n<user id=62e662f9-f404-4a79-8efc-81c8bf57045a>Actually,
      I''m more in the mood for a meal. Could you find me a restaurant around here?</user>\n<ai>Sure,
      there are several restaurants in the area. Are you looking for any specific
      type of cuisine or dining experience?</ai>\n<user id=62e662f9-f404-4a79-8efc-81c8bf57045a>Well,
      I''ve always had an appreciation for a quiet place with a refined atmosphere,
      if you get my drift.</user>\n<ai>Understood. I recommend the La Bella Vita,
      which is a fine dining restaurant nearby known for its elegant setting and gourmet
      cuisine. Shall I navigate us there?</ai>\n</conversation>\n</conversations>"}],
      "model": "claude-3-5-sonnet-20240620", "system": "Extract the relevant user
      preferences from the conversation.\n## Additional Instructions\n    \n<instructions>\nOnly
      extract pertinent user preferences, no temporal desires. Extract same user preferences
      only once independent if the user has said it multiple times.\n</instructions>",
      "temperature": 0.0, "tools": [{"name": "extract_user_preferences_v1", "description":
      "A function that extracts personal preferences of the user in the categories
      ''Points of Interest'', ''Navigation and Routing'', ''Vehicle Settings and Comfort'',
      ''Entertainment and Media''.", "input_schema": {"$defs": {"ClimateControl":
      {"properties": {"preferred_temperature": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Temperature"}, "fan_speed_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Fan Speed Preferences"}, "airflow_direction_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Airflow Direction Preferences"}, "seat_heating_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Seat Heating Preferences"}}, "title": "ClimateControl",
      "type": "object"}, "DanceHall": {"properties": {"preferred_dancing_network":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Dancing Network"}, "preferred_type_of_dancing_while_traveling":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Type Of Dancing While Traveling"}, "preferred_type_of_dancing_at_everyday_points":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Type Of Dancing At Everyday Points"}, "dancing_station_onsite_amenities":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Dancing Station Onsite Amenities"}}, "title": "DanceHall",
      "type": "object"}, "EntertainmentAndMedia": {"properties": {"music": {"allOf":
      [{"$ref": "#/$defs/Music"}]}, "radio_and_podcast": {"allOf": [{"$ref": "#/$defs/RadioAndPodcast"}]}},
      "required": ["music", "radio_and_podcast"], "title": "EntertainmentAndMedia",
      "type": "object"}, "FireStation": {"properties": {"preferred_fire_station":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Fire Station"}, "willingness_to_donate": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Willingness To Donate"}, "bingo_expertise": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Bingo
      Expertise"}}, "title": "FireStation", "type": "object"}, "GroceryShopping":
      {"properties": {"preferred_supermarket_chain": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preferred
      Supermarket Chain"}, "preference_for_local_markets_farms_or_supermarket": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Preference For Local Markets Farms Or Supermarket"}}, "title": "GroceryShopping",
      "type": "object"}, "LightingAndAmbience": {"properties": {"interior_lighting_brightness_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Brightness Preferences"}, "interior_lighting_ambient_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Ambient Preferences"}, "interior_lighting_color_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Color Preferences"}}, "title": "LightingAndAmbience",
      "type": "object"}, "Music": {"properties": {"favorite_genres": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Favorite Genres"}, "favorite_artists_or_bands": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Favorite
      Artists Or Bands"}, "favorite_songs": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favorite Songs"}, "preferred_music_streaming_service":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Music Streaming Service"}}, "title": "Music",
      "type": "object"}, "NavigationAndRouting": {"properties": {"routing": {"allOf":
      [{"$ref": "#/$defs/Routing"}]}, "traffic_and_conditions": {"allOf": [{"$ref":
      "#/$defs/TrafficAndConditions"}]}, "parking": {"allOf": [{"$ref": "#/$defs/Parking"}]}},
      "required": ["routing", "traffic_and_conditions", "parking"], "title": "NavigationAndRouting",
      "type": "object"}, "OutputFormat": {"properties": {"sentence_preference_revealed":
      {"title": "Sentence Preference Revealed", "type": "string"}, "preference": {"title":
      "Preference", "type": "string"}}, "required": ["sentence_preference_revealed",
      "preference"], "title": "OutputFormat", "type": "object"}, "Parking": {"properties":
      {"preferred_parking_type": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Parking Type"}, "price_sensitivity_for_paid_parking":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Price Sensitivity For Paid Parking"}, "distance_willing_to_walk_from_parking_to_destination":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Distance Willing To Walk From Parking To Destination"},
      "preference_for_covered_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preference For Covered Parking"},
      "need_for_handicapped_accessible_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Need For Handicapped Accessible
      Parking"}, "preference_for_parking_with_security": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preference
      For Parking With Security"}}, "title": "Parking", "type": "object"}, "PointsOfInterest":
      {"properties": {"restaurant": {"allOf": [{"$ref": "#/$defs/Restaurant"}]}, "fire_station":
      {"allOf": [{"$ref": "#/$defs/FireStation"}]}, "dancing_station": {"allOf": [{"$ref":
      "#/$defs/DanceHall"}]}, "grocery_shopping": {"allOf": [{"$ref": "#/$defs/GroceryShopping"}]}},
      "required": ["restaurant", "fire_station", "dancing_station", "grocery_shopping"],
      "title": "PointsOfInterest", "type": "object"}, "RadioAndPodcast": {"properties":
      {"preferred_radio_station": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Radio Station"}, "favorite_podcast_genres":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Favorite Podcast Genres"}, "favorite_podcast_shows": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Favorite Podcast Shows"}, "general_news_source": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "General News Source"}}, "title": "RadioAndPodcast", "type": "object"}, "Restaurant":
      {"properties": {"favourite_cuisine": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favourite Cuisine"}, "preferred_restaurant_type":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Restaurant Type"}, "fast_food_preference": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Fast Food Preference"}, "desired_price_range": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Desired Price Range"}, "dietary_preference": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Dietary
      Preference"}, "preferred_payment_method": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Payment Method"}},
      "title": "Restaurant", "type": "object"}, "Routing": {"properties": {"avoidance_of_specific_road_types":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Avoidance Of Specific Road Types"}, "priority_for_shortest_time_or_shortest_distance":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Priority For Shortest Time Or Shortest Distance"}, "tolerance_for_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Tolerance For Traffic"}}, "title": "Routing", "type": "object"},
      "TrafficAndConditions": {"properties": {"traffic_information_source_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Traffic Information Source Preferences"}, "willingness_to_take_longer_route_to_avoid_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Willingness To Take Longer Route To Avoid Traffic"}}, "title":
      "TrafficAndConditions", "type": "object"}, "UserPreferences": {"properties":
      {"points_of_interest": {"allOf": [{"$ref": "#/$defs/PointsOfInterest"}]}, "routing":
      {"allOf": [{"$ref": "#/$defs/NavigationAndRouting"}]}, "comfort_settings": {"allOf":
      [{"$ref": "#/$defs/VehicleSettingsAndComfort"}]}, "entertainment_and_media":
      {"allOf": [{"$ref": "#/$defs/EntertainmentAndMedia"}]}}, "required": ["points_of_interest",
      "routing", "comfort_settings", "entertainment_and_media"], "title": "UserPreferences",
      "type": "object"}, "VehicleSettingsAndComfort": {"properties": {"climate_control":
      {"allOf": [{"$ref": "#/$defs/ClimateControl"}]}, "lighting_and_ambience": {"allOf":
      [{"$ref": "#/$defs/LightingAndAmbience"}]}}, "required": ["climate_control",
      "lighting_and_ambience"], "title": "VehicleSettingsAndComfort", "type": "object"}},
      "description": "A function that extracts personal preferences of the user in
      the categories ''Points of Interest'', ''Navigation and Routing'', ''Vehicle
      Settings and Comfort'', ''Entertainment and Media''.", "properties": {"pertinent_user_preferences":
      {"allOf": [{"$ref": "#/$defs/UserPreferences"}]}}, "required": ["pertinent_user_preferences"],
      "title": "extract_user_preferences_v1", "type": "object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3xT22rcMBD9FTEvedGGzebut15Y0lJKAyGBhiAm0tirxpYUabTZsPjfg+SE3VKo
        X2zNzDkzZ468BWuggSF1an7066U1d+fLSxs+3X0163xzdfbTfQcJ/BqoVFFK2BFIiL4vAUzJJkbH
        IGHwhnpoQPeYDc2OZ6ez5J0jni3mi5P52WIOErR3TI6hud9+kDJtCry+GviMiYzwTvCKhPZuTTEh
        W++k+CY0OkEbjqhZJD+QyImiCJFaiuQ0JRGpw2is60SkxJgjOk6H4gexmMor7zuHKnC1B1frI9Fm
        p0s/wV5oDJxjxSTa73MIo9wJ8L4vVCCnXZZzVvOj8+WX2z+M+RT5eHPrrxfLi+ur3yDB4VBw/5mi
        ULmQGZotBIpsHbl/C2vWW8dJ+VZZx1REl+hOfK2pkEhG7eJqGv7+I1sIoYGldSSMddZ1ICFRcUvT
        XlMVaU3YUxF6s3p3gDYhUirGYQiRtK2OidZHcYDiOVtiEXrUJF4srwSKSK11pZwHn8KKIh1IYZ2x
        GrmYh3vLrjTtbi5RNDz2Nq0GKubC+DBKaG0klbg2hmY7SjDotHXd38Euek3xVaWVD6GIbLbjWK5z
        5um09zlK4Ihta7VCZ5T2ztjClKZcwPi0Y9B+aH1klYgLvHqjezsgU0Fy9P0E6223KhWVE4dHO22+
        kpR1R0brirJaMJCxWLiGnKyeGCIa62s2eKOxOj6W50FCYh9UJExF8P7NrIlEz3lq53LfS8j1b262
        02VT7J+oqDuZn19I8Jn3g4vLi3F8AwAA//8DADWUvUguBAAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8a0beda5e996fa9e-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 09 Jul 2024 23:00:11 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3996'
      anthropic-ratelimit-requests-reset:
      - '2024-07-09T23:00:54Z'
      anthropic-ratelimit-tokens-limit:
      - '400000'
      anthropic-ratelimit-tokens-remaining:
      - '400000'
      anthropic-ratelimit-tokens-reset:
      - '2024-07-09T23:00:11Z'
      request-id:
      - req_01PeFgHo5huqHa1iSGjswjAN
      via:
      - 1.1 google
      x-cloud-trace-context:
      - daecddabe999fd9f087b66ee1b11acec
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens": 1024, "messages": [{"role": "user", "content": "<conversations>\n<conversation
      idx=0>\n<user id=34c2567e-34ec-404a-b8e9-f86b5084ced5>Set the interior lighting
      to something warm, I can''t stand these cool tones anymore.</user>\n<ai>Adjusting
      the interior lighting to a warm ambience. You should notice a cozier atmosphere
      now.</ai>\n</conversation>\n</conversations>"}], "model": "claude-3-5-sonnet-20240620",
      "system": "Extract the relevant user preferences from the conversation.\n##
      Additional Instructions\n    \n<instructions>\nOnly extract pertinent user preferences,
      no temporal desires. Extract same user preferences only once independent if
      the user has said it multiple times.\n</instructions>", "temperature": 0.0,
      "tools": [{"name": "extract_user_preferences_v1", "description": "A function
      that extracts personal preferences of the user in the categories ''Points of
      Interest'', ''Navigation and Routing'', ''Vehicle Settings and Comfort'', ''Entertainment
      and Media''.", "input_schema": {"$defs": {"ClimateControl": {"properties": {"preferred_temperature":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Temperature"}, "fan_speed_preferences": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Fan Speed Preferences"}, "airflow_direction_preferences": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Airflow Direction Preferences"}, "seat_heating_preferences": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Seat Heating Preferences"}}, "title": "ClimateControl", "type": "object"},
      "DanceHall": {"properties": {"preferred_dancing_network": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Preferred Dancing Network"}, "preferred_type_of_dancing_while_traveling": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Preferred Type Of Dancing While Traveling"}, "preferred_type_of_dancing_at_everyday_points":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Type Of Dancing At Everyday Points"}, "dancing_station_onsite_amenities":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Dancing Station Onsite Amenities"}}, "title": "DanceHall",
      "type": "object"}, "EntertainmentAndMedia": {"properties": {"music": {"allOf":
      [{"$ref": "#/$defs/Music"}]}, "radio_and_podcast": {"allOf": [{"$ref": "#/$defs/RadioAndPodcast"}]}},
      "required": ["music", "radio_and_podcast"], "title": "EntertainmentAndMedia",
      "type": "object"}, "FireStation": {"properties": {"preferred_fire_station":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Fire Station"}, "willingness_to_donate": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Willingness To Donate"}, "bingo_expertise": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Bingo
      Expertise"}}, "title": "FireStation", "type": "object"}, "GroceryShopping":
      {"properties": {"preferred_supermarket_chain": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preferred
      Supermarket Chain"}, "preference_for_local_markets_farms_or_supermarket": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Preference For Local Markets Farms Or Supermarket"}}, "title": "GroceryShopping",
      "type": "object"}, "LightingAndAmbience": {"properties": {"interior_lighting_brightness_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Brightness Preferences"}, "interior_lighting_ambient_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Ambient Preferences"}, "interior_lighting_color_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Color Preferences"}}, "title": "LightingAndAmbience",
      "type": "object"}, "Music": {"properties": {"favorite_genres": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Favorite Genres"}, "favorite_artists_or_bands": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Favorite
      Artists Or Bands"}, "favorite_songs": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favorite Songs"}, "preferred_music_streaming_service":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Music Streaming Service"}}, "title": "Music",
      "type": "object"}, "NavigationAndRouting": {"properties": {"routing": {"allOf":
      [{"$ref": "#/$defs/Routing"}]}, "traffic_and_conditions": {"allOf": [{"$ref":
      "#/$defs/TrafficAndConditions"}]}, "parking": {"allOf": [{"$ref": "#/$defs/Parking"}]}},
      "required": ["routing", "traffic_and_conditions", "parking"], "title": "NavigationAndRouting",
      "type": "object"}, "OutputFormat": {"properties": {"sentence_preference_revealed":
      {"title": "Sentence Preference Revealed", "type": "string"}, "preference": {"title":
      "Preference", "type": "string"}}, "required": ["sentence_preference_revealed",
      "preference"], "title": "OutputFormat", "type": "object"}, "Parking": {"properties":
      {"preferred_parking_type": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Parking Type"}, "price_sensitivity_for_paid_parking":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Price Sensitivity For Paid Parking"}, "distance_willing_to_walk_from_parking_to_destination":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Distance Willing To Walk From Parking To Destination"},
      "preference_for_covered_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preference For Covered Parking"},
      "need_for_handicapped_accessible_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Need For Handicapped Accessible
      Parking"}, "preference_for_parking_with_security": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preference
      For Parking With Security"}}, "title": "Parking", "type": "object"}, "PointsOfInterest":
      {"properties": {"restaurant": {"allOf": [{"$ref": "#/$defs/Restaurant"}]}, "fire_station":
      {"allOf": [{"$ref": "#/$defs/FireStation"}]}, "dancing_station": {"allOf": [{"$ref":
      "#/$defs/DanceHall"}]}, "grocery_shopping": {"allOf": [{"$ref": "#/$defs/GroceryShopping"}]}},
      "required": ["restaurant", "fire_station", "dancing_station", "grocery_shopping"],
      "title": "PointsOfInterest", "type": "object"}, "RadioAndPodcast": {"properties":
      {"preferred_radio_station": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Radio Station"}, "favorite_podcast_genres":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Favorite Podcast Genres"}, "favorite_podcast_shows": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Favorite Podcast Shows"}, "general_news_source": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "General News Source"}}, "title": "RadioAndPodcast", "type": "object"}, "Restaurant":
      {"properties": {"favourite_cuisine": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favourite Cuisine"}, "preferred_restaurant_type":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Restaurant Type"}, "fast_food_preference": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Fast Food Preference"}, "desired_price_range": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Desired Price Range"}, "dietary_preference": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Dietary
      Preference"}, "preferred_payment_method": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Payment Method"}},
      "title": "Restaurant", "type": "object"}, "Routing": {"properties": {"avoidance_of_specific_road_types":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Avoidance Of Specific Road Types"}, "priority_for_shortest_time_or_shortest_distance":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Priority For Shortest Time Or Shortest Distance"}, "tolerance_for_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Tolerance For Traffic"}}, "title": "Routing", "type": "object"},
      "TrafficAndConditions": {"properties": {"traffic_information_source_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Traffic Information Source Preferences"}, "willingness_to_take_longer_route_to_avoid_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Willingness To Take Longer Route To Avoid Traffic"}}, "title":
      "TrafficAndConditions", "type": "object"}, "UserPreferences": {"properties":
      {"points_of_interest": {"allOf": [{"$ref": "#/$defs/PointsOfInterest"}]}, "routing":
      {"allOf": [{"$ref": "#/$defs/NavigationAndRouting"}]}, "comfort_settings": {"allOf":
      [{"$ref": "#/$defs/VehicleSettingsAndComfort"}]}, "entertainment_and_media":
      {"allOf": [{"$ref": "#/$defs/EntertainmentAndMedia"}]}}, "required": ["points_of_interest",
      "routing", "comfort_settings", "entertainment_and_media"], "title": "UserPreferences",
      "type": "object"}, "VehicleSettingsAndComfort": {"properties": {"climate_control":
      {"allOf": [{"$ref": "#/$defs/ClimateControl"}]}, "lighting_and_ambience": {"allOf":
      [{"$ref": "#/$defs/LightingAndAmbience"}]}}, "required": ["climate_control",
      "lighting_and_ambience"], "title": "VehicleSettingsAndComfort", "type": "object"}},
      "description": "A function that extracts personal preferences of the user in
      the categories ''Points of Interest'', ''Navigation and Routing'', ''Vehicle
      Settings and Comfort'', ''Entertainment and Media''.", "properties": {"pertinent_user_preferences":
      {"allOf": [{"$ref": "#/$defs/UserPreferences"}]}}, "required": ["pertinent_user_preferences"],
      "title": "extract_user_preferences_v1", "type": "object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3xSTW/bMAz9KxwvvTiB3W5d49vQbGjXXgoMWIGiMFSZsbXKpCdRWdMg/31Q0izd
        B6aLQL6nR/JRa3Qt1jjErimrq/Pnm+6T/VBp9e1m/v5W5zZcnGKBuhopsyhG0xEWGMTnhInRRTWs
        WOAgLXms0XqTWpqcTN5NojCTTo7L47fl6XGJBVphJVas79Z7UaWn/Hx71XhOQY1jv3oDl5C4pZD1
        W9DeKKwkHbXg3SOBCtjecEegPYFjpeAkgHddr467jBv4YcJAAVSYpnBNehSBnjQYq6C9izAGWlAg
        tgS5Rhpbo5SrBFhS76wniKRZL4KxVkLruPOrKVweeQ8p7oq/SDYpUmgOkrFZVrBIbNUJb/s1o6ZA
        u9KOFxIGk7EpboqDGyI+K2GxW0yOU1NWt+n6obqQ2xCf5/OPoft6tTqbfcYC2Qz53X+ayFI8JsV6
        jSMFdUz8NzGjVoaFBG32Q+fc3tHGcNuY4cFldgb2nje/GFa8/KF5t8ZDjDXmjWCBkfI3sPSK3ARa
        kvGUh/7SU3Y3vCwobhf5zyUzRZAlBbAifhdPcXO/yee+wKgyNoFMFP7d2y0Q6Xva9cXJ+wLT9nNv
        RxuTNiqPxBHrk7NZWaAkfZ2sZqebzU8AAAD//wMAUzWwaT0DAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8a0bedc4eac6fade-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 09 Jul 2024 23:00:15 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3992'
      anthropic-ratelimit-requests-reset:
      - '2024-07-09T23:00:54Z'
      anthropic-ratelimit-tokens-limit:
      - '400000'
      anthropic-ratelimit-tokens-remaining:
      - '393000'
      anthropic-ratelimit-tokens-reset:
      - '2024-07-09T23:00:16Z'
      request-id:
      - req_01WT5k16M9vVeDkcSD5muCXV
      via:
      - 1.1 google
      x-cloud-trace-context:
      - cddecdc195ec51ab5a0679116f4e63b9
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens": 1024, "messages": [{"role": "user", "content": "<conversations>\n<conversation
      idx=0>\n<user id=5ff7412a-3140-438b-8430-c96dc0c7da05>I''ve been craving some
      good Italian food lately, can you suggest a nice Italian restaurant nearby?</user>\n<ai>Certainly,
      there''s an Italian restaurant called La Cucina, 4 kilometers away with excellent
      reviews. Shall I navigate there?</ai>\n<user id=5ff7412a-3140-438b-8430-c96dc0c7da05>La
      Cucina sounds perfect, please turn on the navigation.</user>\n<ai>Navigation
      to La Cucina is now active. You will arrive in approximately 12 minutes. Enjoy
      your meal!</ai>\n</conversation>\n</conversations>"}], "model": "claude-3-5-sonnet-20240620",
      "system": "Extract the relevant user preferences from the conversation.\n##
      Additional Instructions\n    \n<instructions>\nOnly extract pertinent user preferences,
      no temporal desires. Extract same user preferences only once independent if
      the user has said it multiple times.\n</instructions>", "temperature": 0.0,
      "tools": [{"name": "extract_user_preferences_v1", "description": "A function
      that extracts personal preferences of the user in the categories ''Points of
      Interest'', ''Navigation and Routing'', ''Vehicle Settings and Comfort'', ''Entertainment
      and Media''.", "input_schema": {"$defs": {"ClimateControl": {"properties": {"preferred_temperature":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Temperature"}, "fan_speed_preferences": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Fan Speed Preferences"}, "airflow_direction_preferences": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Airflow Direction Preferences"}, "seat_heating_preferences": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Seat Heating Preferences"}}, "title": "ClimateControl", "type": "object"},
      "DanceHall": {"properties": {"preferred_dancing_network": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Preferred Dancing Network"}, "preferred_type_of_dancing_while_traveling": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Preferred Type Of Dancing While Traveling"}, "preferred_type_of_dancing_at_everyday_points":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Type Of Dancing At Everyday Points"}, "dancing_station_onsite_amenities":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Dancing Station Onsite Amenities"}}, "title": "DanceHall",
      "type": "object"}, "EntertainmentAndMedia": {"properties": {"music": {"allOf":
      [{"$ref": "#/$defs/Music"}]}, "radio_and_podcast": {"allOf": [{"$ref": "#/$defs/RadioAndPodcast"}]}},
      "required": ["music", "radio_and_podcast"], "title": "EntertainmentAndMedia",
      "type": "object"}, "FireStation": {"properties": {"preferred_fire_station":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Fire Station"}, "willingness_to_donate": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Willingness To Donate"}, "bingo_expertise": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Bingo
      Expertise"}}, "title": "FireStation", "type": "object"}, "GroceryShopping":
      {"properties": {"preferred_supermarket_chain": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preferred
      Supermarket Chain"}, "preference_for_local_markets_farms_or_supermarket": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Preference For Local Markets Farms Or Supermarket"}}, "title": "GroceryShopping",
      "type": "object"}, "LightingAndAmbience": {"properties": {"interior_lighting_brightness_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Brightness Preferences"}, "interior_lighting_ambient_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Ambient Preferences"}, "interior_lighting_color_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Color Preferences"}}, "title": "LightingAndAmbience",
      "type": "object"}, "Music": {"properties": {"favorite_genres": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Favorite Genres"}, "favorite_artists_or_bands": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Favorite
      Artists Or Bands"}, "favorite_songs": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favorite Songs"}, "preferred_music_streaming_service":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Music Streaming Service"}}, "title": "Music",
      "type": "object"}, "NavigationAndRouting": {"properties": {"routing": {"allOf":
      [{"$ref": "#/$defs/Routing"}]}, "traffic_and_conditions": {"allOf": [{"$ref":
      "#/$defs/TrafficAndConditions"}]}, "parking": {"allOf": [{"$ref": "#/$defs/Parking"}]}},
      "required": ["routing", "traffic_and_conditions", "parking"], "title": "NavigationAndRouting",
      "type": "object"}, "OutputFormat": {"properties": {"sentence_preference_revealed":
      {"title": "Sentence Preference Revealed", "type": "string"}, "preference": {"title":
      "Preference", "type": "string"}}, "required": ["sentence_preference_revealed",
      "preference"], "title": "OutputFormat", "type": "object"}, "Parking": {"properties":
      {"preferred_parking_type": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Parking Type"}, "price_sensitivity_for_paid_parking":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Price Sensitivity For Paid Parking"}, "distance_willing_to_walk_from_parking_to_destination":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Distance Willing To Walk From Parking To Destination"},
      "preference_for_covered_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preference For Covered Parking"},
      "need_for_handicapped_accessible_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Need For Handicapped Accessible
      Parking"}, "preference_for_parking_with_security": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preference
      For Parking With Security"}}, "title": "Parking", "type": "object"}, "PointsOfInterest":
      {"properties": {"restaurant": {"allOf": [{"$ref": "#/$defs/Restaurant"}]}, "fire_station":
      {"allOf": [{"$ref": "#/$defs/FireStation"}]}, "dancing_station": {"allOf": [{"$ref":
      "#/$defs/DanceHall"}]}, "grocery_shopping": {"allOf": [{"$ref": "#/$defs/GroceryShopping"}]}},
      "required": ["restaurant", "fire_station", "dancing_station", "grocery_shopping"],
      "title": "PointsOfInterest", "type": "object"}, "RadioAndPodcast": {"properties":
      {"preferred_radio_station": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Radio Station"}, "favorite_podcast_genres":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Favorite Podcast Genres"}, "favorite_podcast_shows": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Favorite Podcast Shows"}, "general_news_source": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "General News Source"}}, "title": "RadioAndPodcast", "type": "object"}, "Restaurant":
      {"properties": {"favourite_cuisine": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favourite Cuisine"}, "preferred_restaurant_type":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Restaurant Type"}, "fast_food_preference": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Fast Food Preference"}, "desired_price_range": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Desired Price Range"}, "dietary_preference": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Dietary
      Preference"}, "preferred_payment_method": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Payment Method"}},
      "title": "Restaurant", "type": "object"}, "Routing": {"properties": {"avoidance_of_specific_road_types":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Avoidance Of Specific Road Types"}, "priority_for_shortest_time_or_shortest_distance":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Priority For Shortest Time Or Shortest Distance"}, "tolerance_for_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Tolerance For Traffic"}}, "title": "Routing", "type": "object"},
      "TrafficAndConditions": {"properties": {"traffic_information_source_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Traffic Information Source Preferences"}, "willingness_to_take_longer_route_to_avoid_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Willingness To Take Longer Route To Avoid Traffic"}}, "title":
      "TrafficAndConditions", "type": "object"}, "UserPreferences": {"properties":
      {"points_of_interest": {"allOf": [{"$ref": "#/$defs/PointsOfInterest"}]}, "routing":
      {"allOf": [{"$ref": "#/$defs/NavigationAndRouting"}]}, "comfort_settings": {"allOf":
      [{"$ref": "#/$defs/VehicleSettingsAndComfort"}]}, "entertainment_and_media":
      {"allOf": [{"$ref": "#/$defs/EntertainmentAndMedia"}]}}, "required": ["points_of_interest",
      "routing", "comfort_settings", "entertainment_and_media"], "title": "UserPreferences",
      "type": "object"}, "VehicleSettingsAndComfort": {"properties": {"climate_control":
      {"allOf": [{"$ref": "#/$defs/ClimateControl"}]}, "lighting_and_ambience": {"allOf":
      [{"$ref": "#/$defs/LightingAndAmbience"}]}}, "required": ["climate_control",
      "lighting_and_ambience"], "title": "VehicleSettingsAndComfort", "type": "object"}},
      "description": "A function that extracts personal preferences of the user in
      the categories ''Points of Interest'', ''Navigation and Routing'', ''Vehicle
      Settings and Comfort'', ''Entertainment and Media''.", "properties": {"pertinent_user_preferences":
      {"allOf": [{"$ref": "#/$defs/UserPreferences"}]}}, "required": ["pertinent_user_preferences"],
      "title": "extract_user_preferences_v1", "type": "object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA3yTTW/bMAyG/4rAyy5KkaZdi/q2DQPWottpWNcNhaDKtCPEJl2JClIE/u8D7QxJ
        MWC+2Px6RL6U9xBrqKDPrVueXz3c31z+eLnAx8cWrzY/Cw6f+A4syOuAmoU5+xbBQuJOHT7nmMWT
        gIWea+yggtD5UuPiYvF+kZkIZbFari6XV6slWAhMgiRQ/d7/hQrutHx6VfDRZ6wNk5E1msC0xZS9
        RCZrbk3wZHAnyQcxmXs0JWMyQ8IGE1LAbBJ2XrA2wiZhFl+SJ8ln5h7lXdb0iXtgOC13J+Vue26a
        QkHPU0Twg5SkNTGbSA2nfurlDEZ77J+5UxLYWUq1i1ue32XpN5/p+dt9+XDzZfdQ97/46zVYIN9r
        3X+aUBQNRaDaw4BJIiH9mzhFOZJkx42LJKgjq/c4ulqN33JJUdCFEnMknNQ/gqCCW/Fd9AQWMuqC
        Ap4c5BJu0Xeow31fH0TH3ZAw6668CclvI7Wm4WQOJNMw19ZEqmPwokF/sqc3mYemzmB8Gi00MaHL
        MskM1X60UHsKkdq3zjZxwPTq8pqHIVKr3lGvZZHZOvkcLUjyTROD81S7wFRHJeU5Nvi0ORIC9w0n
        cRlFyyeRQxd7r/IxSeJuLutiu9aMien75zhLOUFUwyQ+Uq9704Qe6+iV1Zccw0xIvo48RQeug59W
        N+rzZCELDy6hzzrw6RWbAhlfynwcla6zUKa/strPt8YJb1Cnu7i5vrTARU6dq5vlOP4BAAD//wMA
        H5W4D/YDAAA=
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8a0bee0c49ddfa4e-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 09 Jul 2024 23:00:27 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3984'
      anthropic-ratelimit-requests-reset:
      - '2024-07-09T23:00:54Z'
      anthropic-ratelimit-tokens-limit:
      - '400000'
      anthropic-ratelimit-tokens-remaining:
      - '400000'
      anthropic-ratelimit-tokens-reset:
      - '2024-07-09T23:00:27Z'
      request-id:
      - req_01VVZ35kna4NJyzyWbDmFwFh
      via:
      - 1.1 google
      x-cloud-trace-context:
      - 49181495d7ba1ff383ea926c344c24cd
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens": 1024, "messages": [{"role": "user", "content": "<conversations>\n<conversation
      idx=0>\n<user id=a4206dff-4858-48ef-8944-7a3a71a77c8b>Hello</user>\n<ai>Bonjour
      Kevin! Let''s start with some basic questions to assess your French proficiency.
      \n\n**Fill in the blank:** Je mange des p\u00e2tes parce que j''ai ____. \n\nA)
      soif  \nB) faim  \nC) froid  \nD) chaud</ai>\n</conversation>\n</conversations>"}],
      "model": "claude-3-5-sonnet-20240620", "system": "Extract the relevant user
      preferences from the conversation.\n## Additional Instructions\n    \n<instructions>\nRemember
      that this schema must be useful for prompt engineering an AI assistant.\n</instructions>",
      "temperature": 0.0, "tools": [{"name": "UserProfile", "description": "", "input_schema":
      {"properties": {"name": {"description": "The user''s name", "title": "Name",
      "type": "string"}, "age": {"description": "The user''s age", "title": "Age",
      "type": "integer"}, "interests": {"description": "The user''s interests", "items":
      {"type": "string"}, "title": "Interests", "type": "array"}, "relationships":
      {"description": "The user''s friends, family, pets,and other relationships.",
      "title": "Relationships", "type": "object"}, "other_useful_info": {"description":
      "Any other details you would like to know about the user.", "items": {"type":
      "string"}, "title": "Other Useful Info", "type": "array"}, "ai_instructions":
      {"description": "Prompt instructions that you as the AI assistant should always
      retain in subsequent conversations.", "items": {"type": "string"}, "title":
      "Ai Instructions", "type": "array"}}, "required": ["name", "age", "interests",
      "relationships", "other_useful_info", "ai_instructions"], "title": "UserProfile",
      "type": "object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA1RSy27bMBD8lQUvvsiB69RB40vRQ5r61kPaFGgCYy2OJMLUrswlnTpB/72Q86hz
        IjCcnZ0Z7JML3i1db+169mGRL64Wi0/n15e7q+3lz2+/ruePw62rXD4MGFkw4xaucknjCLBZsMyS
        XeV69Yhu6erIxWN6Pl1MTUWQp/PZ/OPsYj5zlatVMiS75e+nV9GMP+P48Vm6FfGgUdvwiIo2JdOK
        vMokU8d7EERL21GQRlPPOahQVqoTOIOYau2HiAwqhkRD0iZE0IYNnkZqF4xqlT2SPQ9zVMEZ3XR4
        j6vEA1mnD0ZMbQJykJaapD3l7kWexRPT1wSpO4osbeEWtCuwo8SRzEJfVhU9dKHuyCtsTDIk3QcP
        stI0oQ6QTB6ZQzTijZb8tmJiNCQ0GFfAKgqSkWDZKtJEA5KpcDxt4+xO7uTmpJFiaEqkH4b0/bmO
        ilaTGEkAP3bHtqVGE/Wa8E6JbrVETwctFMMW1OOVbtr/z2kj2nLukI6+BfV4JOnwlmlUP/oZK+RT
        K5/d3/vKWdZhncCm4pYO4te5JHEvH4ZdGeO7pZT4Tzk6SqXgBGhVrZSZV1BaEl+Sn52aV6xkZW5i
        pqOUX1qCLGZpUVsLAAAA//8DAP8nUKzfAgAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8a0bee27fd021686-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 09 Jul 2024 23:00:30 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3983'
      anthropic-ratelimit-requests-reset:
      - '2024-07-09T23:00:54Z'
      anthropic-ratelimit-tokens-limit:
      - '400000'
      anthropic-ratelimit-tokens-remaining:
      - '401000'
      anthropic-ratelimit-tokens-reset:
      - '2024-07-09T23:00:30Z'
      request-id:
      - req_016DqFHwvZDKs4VQuf8djrrG
      via:
      - 1.1 google
      x-cloud-trace-context:
      - 0548edf20624f79dc90c3a4c9e75a467
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens": 1024, "messages": [{"role": "user", "content": "<conversations>\n<conversation
      idx=0>\n<system>You are a helpful AI assistant</system>\n<user id=f2485662-64c1-4865-b77f-6bdf3ae07f85>I''m
      Joe and I''m 40 years old, have two cats named Sherlock and Mycroft, and I''m
      into drones.</user>\n</conversation>\n</conversations>"}], "model": "claude-3-5-sonnet-20240620",
      "system": "Extract the relevant user preferences from the conversation.\n##
      Additional Instructions\n    \n<instructions>\nRemember that this schema must
      be useful for prompt engineering an AI assistant.\n</instructions>", "temperature":
      0.0, "tools": [{"name": "UserMemory", "description": "", "input_schema": {"properties":
      {"name": {"description": "The user''s name", "title": "Name", "type": "string"},
      "age": {"description": "The user''s age", "title": "Age", "type": "integer"},
      "interests": {"description": "The user''s interests", "items": {"type": "string"},
      "title": "Interests", "type": "array"}, "relationships": {"description": "The
      user''s friends, family, pets,and other relationships.", "title": "Relationships",
      "type": "object"}, "ai_instructions": {"description": "Prompt instructions that
      you as the AI assistant should always retain in subsequent conversations.",
      "items": {"type": "string"}, "title": "Ai Instructions", "type": "array"}},
      "required": ["name", "age", "interests", "relationships", "ai_instructions"],
      "title": "UserMemory", "type": "object"}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA1RSUU8bMQz+K55f+pJW5QZMuzeEtAGjkwYa2kCoCncuF5GLj9gBjqr/fUq6DvZk
        2f4++/OXrNG1WGMv98v53tH995Orl5PLr9/C8/UFfblaXTS/OzSo40AZRSL2ntBgZJ8LVsSJ2qBo
        sOeWPNbYeJtamn6cHkyFQyCdVvNqf35YzdFgw0EpKNY3691QpZdML6HGY4pqXfDjBzidtHBH0Nlh
        GEEZOvIDjJygiWSVwEISitBTz3GEOyvUAgfQjsCFFcfequOQGZMngiHyk2upncE56UQyt0B/CsXF
        dsQqhaZQlEGUYwY4eT9sBqcT76G3D3n9P3xjvS8kUkhFY9xqGyKvnKcZbszbvcx+mSS7WKzPecrm
        x1+DO2+qT9c/Fo+v1XFc9Bfnr2gw2D7z3oRmZhiSYr3eNc84z8tvU+/Pc1spkqhgfYNt5ECCtwYj
        +XKGdG6QzB5IS2zsFnrZUfTcPKDBxdhEXinebjYGrVu6IBpTubdAj/yzHQUi9dTfUQTtrMIZEziB
        /TmMZKMA+9ZAZwX0mSEvgay3hd0esKGFv5tMSYrfW/HUgguwVT/LOm4NivKwjGSFw/9WlobQY6LQ
        ENYheW8wld9ar7d2LZUfKIs/PPhskJO+r1XV3mbzBwAA//8DAERsDjINAwAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8a0bee3a0e707aec-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 09 Jul 2024 23:00:33 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3982'
      anthropic-ratelimit-requests-reset:
      - '2024-07-09T23:00:54Z'
      anthropic-ratelimit-tokens-limit:
      - '400000'
      anthropic-ratelimit-tokens-remaining:
      - '401000'
      anthropic-ratelimit-tokens-reset:
      - '2024-07-09T23:00:33Z'
      request-id:
      - req_014Ub4xz8UoecMNhB6qVXNKW
      via:
      - 1.1 google
      x-cloud-trace-context:
      - fb8f0a547e245c718b79ad11f56a6896
    status:
      code: 200
      message: OK
- request:
    body: '{"model": "accounts/fireworks/models/firefunction-v2", "stream": false,
      "messages": [{"role": "system", "content": "Extract the relevant user preferences
      from the conversation.\n## Additional Instructions\n    \n<instructions>\nOnly
      extract pertinent user preferences, no temporal desires. Extract same user preferences
      only once independent if the user has said it multiple times.\n</instructions>"},
      {"role": "user", "content": "<conversations>\n<conversation idx=0>\n<user id=b9059c2f-0fe3-4a66-8c06-225953f2fa11>I
      could really go for some Italian food right now.</user>\n<ai>I located several
      Italian restaurants nearby. The closest one is La Bella Vita, 4 kilometers away.
      Would you like to navigate there?</ai>\n<user id=b9059c2f-0fe3-4a66-8c06-225953f2fa11>Yes,
      that sounds perfect. Please set it as our destination.</user>\n<ai>Destination
      set to La Bella Vita. The route is clear with minimal traffic. We should arrive
      in approximately 10 minutes. Would you like to start the navigation?</ai>\n<user
      id=b9059c2f-0fe3-4a66-8c06-225953f2fa11>Start the navigation and can you also
      adjust the temperature to something warmer?</user>\n<ai>Navigation started,
      and the cabin temperature is now set to a warmer setting. Is there anything
      else I can assist you with on the way?</ai>\n<user id=b9059c2f-0fe3-4a66-8c06-225953f2fa11>Maybe
      some Italian music to set the mood?</user>\n<ai>Playing classic Italian music.
      Enjoy the drive and your meal at La Bella Vita.</ai>\n</conversation>\n</conversations>"}],
      "n": 1, "temperature": 0.0, "tools": [{"type": "function", "function": {"name":
      "extract_user_preferences_v1", "description": "A function that extracts personal
      preferences of the user in the categories ''Points of Interest'', ''Navigation
      and Routing'', ''Vehicle Settings and Comfort'', ''Entertainment and Media''.",
      "parameters": {"$defs": {"ClimateControl": {"properties": {"preferred_temperature":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Temperature"}, "fan_speed_preferences": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Fan Speed Preferences"}, "airflow_direction_preferences": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Airflow Direction Preferences"}, "seat_heating_preferences": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Seat Heating Preferences"}}, "title": "ClimateControl", "type": "object"},
      "DanceHall": {"properties": {"preferred_dancing_network": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Preferred Dancing Network"}, "preferred_type_of_dancing_while_traveling": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Preferred Type Of Dancing While Traveling"}, "preferred_type_of_dancing_at_everyday_points":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Type Of Dancing At Everyday Points"}, "dancing_station_onsite_amenities":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Dancing Station Onsite Amenities"}}, "title": "DanceHall",
      "type": "object"}, "EntertainmentAndMedia": {"properties": {"music": {"allOf":
      [{"$ref": "#/$defs/Music"}]}, "radio_and_podcast": {"allOf": [{"$ref": "#/$defs/RadioAndPodcast"}]}},
      "required": ["music", "radio_and_podcast"], "title": "EntertainmentAndMedia",
      "type": "object"}, "FireStation": {"properties": {"preferred_fire_station":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Fire Station"}, "willingness_to_donate": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Willingness To Donate"}, "bingo_expertise": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Bingo
      Expertise"}}, "title": "FireStation", "type": "object"}, "GroceryShopping":
      {"properties": {"preferred_supermarket_chain": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preferred
      Supermarket Chain"}, "preference_for_local_markets_farms_or_supermarket": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Preference For Local Markets Farms Or Supermarket"}}, "title": "GroceryShopping",
      "type": "object"}, "LightingAndAmbience": {"properties": {"interior_lighting_brightness_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Brightness Preferences"}, "interior_lighting_ambient_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Ambient Preferences"}, "interior_lighting_color_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Color Preferences"}}, "title": "LightingAndAmbience",
      "type": "object"}, "Music": {"properties": {"favorite_genres": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Favorite Genres"}, "favorite_artists_or_bands": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Favorite
      Artists Or Bands"}, "favorite_songs": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favorite Songs"}, "preferred_music_streaming_service":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Music Streaming Service"}}, "title": "Music",
      "type": "object"}, "NavigationAndRouting": {"properties": {"routing": {"allOf":
      [{"$ref": "#/$defs/Routing"}]}, "traffic_and_conditions": {"allOf": [{"$ref":
      "#/$defs/TrafficAndConditions"}]}, "parking": {"allOf": [{"$ref": "#/$defs/Parking"}]}},
      "required": ["routing", "traffic_and_conditions", "parking"], "title": "NavigationAndRouting",
      "type": "object"}, "OutputFormat": {"properties": {"sentence_preference_revealed":
      {"title": "Sentence Preference Revealed", "type": "string"}, "preference": {"title":
      "Preference", "type": "string"}}, "required": ["sentence_preference_revealed",
      "preference"], "title": "OutputFormat", "type": "object"}, "Parking": {"properties":
      {"preferred_parking_type": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Parking Type"}, "price_sensitivity_for_paid_parking":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Price Sensitivity For Paid Parking"}, "distance_willing_to_walk_from_parking_to_destination":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Distance Willing To Walk From Parking To Destination"},
      "preference_for_covered_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preference For Covered Parking"},
      "need_for_handicapped_accessible_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Need For Handicapped Accessible
      Parking"}, "preference_for_parking_with_security": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preference
      For Parking With Security"}}, "title": "Parking", "type": "object"}, "PointsOfInterest":
      {"properties": {"restaurant": {"allOf": [{"$ref": "#/$defs/Restaurant"}]}, "fire_station":
      {"allOf": [{"$ref": "#/$defs/FireStation"}]}, "dancing_station": {"allOf": [{"$ref":
      "#/$defs/DanceHall"}]}, "grocery_shopping": {"allOf": [{"$ref": "#/$defs/GroceryShopping"}]}},
      "required": ["restaurant", "fire_station", "dancing_station", "grocery_shopping"],
      "title": "PointsOfInterest", "type": "object"}, "RadioAndPodcast": {"properties":
      {"preferred_radio_station": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Radio Station"}, "favorite_podcast_genres":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Favorite Podcast Genres"}, "favorite_podcast_shows": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Favorite Podcast Shows"}, "general_news_source": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "General News Source"}}, "title": "RadioAndPodcast", "type": "object"}, "Restaurant":
      {"properties": {"favourite_cuisine": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favourite Cuisine"}, "preferred_restaurant_type":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Restaurant Type"}, "fast_food_preference": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Fast Food Preference"}, "desired_price_range": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Desired Price Range"}, "dietary_preference": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Dietary
      Preference"}, "preferred_payment_method": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Payment Method"}},
      "title": "Restaurant", "type": "object"}, "Routing": {"properties": {"avoidance_of_specific_road_types":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Avoidance Of Specific Road Types"}, "priority_for_shortest_time_or_shortest_distance":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Priority For Shortest Time Or Shortest Distance"}, "tolerance_for_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Tolerance For Traffic"}}, "title": "Routing", "type": "object"},
      "TrafficAndConditions": {"properties": {"traffic_information_source_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Traffic Information Source Preferences"}, "willingness_to_take_longer_route_to_avoid_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Willingness To Take Longer Route To Avoid Traffic"}}, "title":
      "TrafficAndConditions", "type": "object"}, "UserPreferences": {"properties":
      {"points_of_interest": {"allOf": [{"$ref": "#/$defs/PointsOfInterest"}]}, "routing":
      {"allOf": [{"$ref": "#/$defs/NavigationAndRouting"}]}, "comfort_settings": {"allOf":
      [{"$ref": "#/$defs/VehicleSettingsAndComfort"}]}, "entertainment_and_media":
      {"allOf": [{"$ref": "#/$defs/EntertainmentAndMedia"}]}}, "required": ["points_of_interest",
      "routing", "comfort_settings", "entertainment_and_media"], "title": "UserPreferences",
      "type": "object"}, "VehicleSettingsAndComfort": {"properties": {"climate_control":
      {"allOf": [{"$ref": "#/$defs/ClimateControl"}]}, "lighting_and_ambience": {"allOf":
      [{"$ref": "#/$defs/LightingAndAmbience"}]}}, "required": ["climate_control",
      "lighting_and_ambience"], "title": "VehicleSettingsAndComfort", "type": "object"}},
      "description": "A function that extracts personal preferences of the user in
      the categories ''Points of Interest'', ''Navigation and Routing'', ''Vehicle
      Settings and Comfort'', ''Entertainment and Media''.", "properties": {"pertinent_user_preferences":
      {"allOf": [{"$ref": "#/$defs/UserPreferences"}]}}, "required": ["pertinent_user_preferences"],
      "title": "extract_user_preferences_v1", "type": "object"}}}]}'
    headers: {}
    method: POST
    uri: https://api.fireworks.ai/inference/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//lFZNj9s4DP0rA50z28xHMju5tUAPPRS7QLGnphAYiU7YyKJB0UkHQf77
        QrI9iTMZ7PbmUO+RT08UlYMhbxbGuYeH2RSfbmfu+f72cbZyt89+Xt266h4en+ZPK/BTMzG8+olO
        M34D+ofjugmoxNFMjBMERW8Wd0/309l8Pn28m5iaPQazMOAct1HTh4oE9yzb9KEsdYGqjS5nud3d
        50QbJofJLL4fDEWPv8xiOjE1pgRrNIuDEQ6Yc6ZESSGqmRhlDtZBCJe0bnMQgv346a/91/k/H7ff
        /pYvj5+/Prx8mn3b7p8z+6XJCQcZZnL6XBxMhDqv4i8VcGrbhGIbwQoFo8Nkd3dmYkDWbY1Rk1mY
        w9I0KEoR41v40ixuMoAparJcWYqKgkn7hfwJrUAcAhXsuBVStK6lRBFz/PthaRJGzSnPslvBHUJA
        nzFL80UhEMSbitkvzeRmaU7QEWJpjj+OeT2fhk0Kee+D0kIR9PZyMbYhFJaH6Ciu3yUO6xE1n/2I
        uxZ2KC82bbhpKK7fkFPboNQgW1TrNkCn0oUv3OqJNv4FO6ZcG7PPqUFHFTkrDN7mI09Dps4ZYiF9
        sRVLFiOKSa1SjfY84EvLdfYNVOWAUspkrgpUFbnRJvuYheit4+gp2zS0wrBIsWKpi4M2cSujkx1p
        3VMIFNcRU7LKVmGLNnBco9hsAOZg2ftVMQ3I9prRfbxYc+GMQ5swJlLaDRY1QK+Uc/RgkO1FZi17
        CFtbCdenGmw9JqU4aqZxh5Yyjnd4Ju4cGTH3JIvdQPTkoGnQW3AOU6JVwGuUi+SDmj3pxiZ0+Zq9
        jNvLcV2xqE2oubGGM3OBashXkqMKhzdeKtYNCmgrv3Fd9yA1yk1f6vqF7TD5vpbrCjH3dfbneqcA
        SRV4bz0JloH2HjAhqN0g5MrXMMWMQOtNAeQ+hnpFg67D0pQxRiz2FbSS/FWa9J2ibzldUv3/BMeB
        5argojh7LgoU82wusmv0BL3muk3d3ejHbJmya4zSpfm9Idsn+48p251aXwpEKeVXQOwKoh9t9RWU
        uG+7cRPnLislbVJBqMv8RdnRaTZ18xE8cdl5w97B6ztzytIhLub6SELPPLPmXUja8H6EWGNEgWAj
        7lM/1k5HdDyaY355TEWR0sYKQsqP7vl7fvwxMe3w9DfCdaNWeYsxmcXjn/N5fvwVwmtsdj9/mpjT
        X5MTeHp3PP4LAAD//wMA4aPO1e8IAAA=
    headers:
      Access-Control-Allow-Origin:
      - '*'
      CF-Cache-Status:
      - DYNAMIC
      CF-Ray:
      - 8a0bee507e942511-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 09 Jul 2024 23:00:48 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      Via:
      - 1.1 google
      fireworks-server-processing-time:
      - '7.454'
      x-request-id:
      - 95a4c299-0a6d-4ea4-8a31-ac0878628f61
    status:
      code: 200
      message: OK
- request:
    body: '{"model": "accounts/fireworks/models/firefunction-v2", "stream": false,
      "messages": [{"role": "system", "content": "Extract the relevant user preferences
      from the conversation.\n## Additional Instructions\n    \n<instructions>\nOnly
      extract pertinent user preferences, no temporal desires. Extract same user preferences
      only once independent if the user has said it multiple times.\n</instructions>"},
      {"role": "user", "content": "<conversations>\n<conversation idx=0>\n<user id=34dc9d76-c707-42f4-9cda-8879e06e0570>Adjust
      interior lighting.</user>\n<ai>Sure, I can change the brightness or color. Which
      would you like to adjust?</ai>\n<user id=34dc9d76-c707-42f4-9cda-8879e06e0570>Brightness,
      set it low.</user>\n<ai>Setting the interior lighting to low brightness now.</ai>\n<user
      id=34dc9d76-c707-42f4-9cda-8879e06e0570>Keep this brightness level for my future
      rides.</user>\n<ai>I''ll ensure the lighting is low for the duration of this
      ride, but I''m unable to store settings for future trips.</ai>\n<user id=34dc9d76-c707-42f4-9cda-8879e06e0570>That''s
      fine, just make sure it stays this way now.</user>\n<ai>Understood. The low
      brightness setting will be maintained. If you need any more adjustments, just
      let me know.</ai>\n</conversation>\n</conversations>"}], "n": 1, "temperature":
      0.0, "tools": [{"type": "function", "function": {"name": "extract_user_preferences_v1",
      "description": "A function that extracts personal preferences of the user in
      the categories ''Points of Interest'', ''Navigation and Routing'', ''Vehicle
      Settings and Comfort'', ''Entertainment and Media''.", "parameters": {"$defs":
      {"ClimateControl": {"properties": {"preferred_temperature": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Preferred Temperature"}, "fan_speed_preferences": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Fan
      Speed Preferences"}, "airflow_direction_preferences": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Airflow
      Direction Preferences"}, "seat_heating_preferences": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Seat
      Heating Preferences"}}, "title": "ClimateControl", "type": "object"}, "DanceHall":
      {"properties": {"preferred_dancing_network": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Dancing Network"},
      "preferred_type_of_dancing_while_traveling": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Type Of Dancing While
      Traveling"}, "preferred_type_of_dancing_at_everyday_points": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Preferred Type Of Dancing At Everyday Points"}, "dancing_station_onsite_amenities":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Dancing Station Onsite Amenities"}}, "title": "DanceHall",
      "type": "object"}, "EntertainmentAndMedia": {"properties": {"music": {"allOf":
      [{"$ref": "#/$defs/Music"}]}, "radio_and_podcast": {"allOf": [{"$ref": "#/$defs/RadioAndPodcast"}]}},
      "required": ["music", "radio_and_podcast"], "title": "EntertainmentAndMedia",
      "type": "object"}, "FireStation": {"properties": {"preferred_fire_station":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Fire Station"}, "willingness_to_donate": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Willingness To Donate"}, "bingo_expertise": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Bingo
      Expertise"}}, "title": "FireStation", "type": "object"}, "GroceryShopping":
      {"properties": {"preferred_supermarket_chain": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preferred
      Supermarket Chain"}, "preference_for_local_markets_farms_or_supermarket": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Preference For Local Markets Farms Or Supermarket"}}, "title": "GroceryShopping",
      "type": "object"}, "LightingAndAmbience": {"properties": {"interior_lighting_brightness_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Brightness Preferences"}, "interior_lighting_ambient_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Ambient Preferences"}, "interior_lighting_color_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Color Preferences"}}, "title": "LightingAndAmbience",
      "type": "object"}, "Music": {"properties": {"favorite_genres": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Favorite Genres"}, "favorite_artists_or_bands": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Favorite
      Artists Or Bands"}, "favorite_songs": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favorite Songs"}, "preferred_music_streaming_service":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Music Streaming Service"}}, "title": "Music",
      "type": "object"}, "NavigationAndRouting": {"properties": {"routing": {"allOf":
      [{"$ref": "#/$defs/Routing"}]}, "traffic_and_conditions": {"allOf": [{"$ref":
      "#/$defs/TrafficAndConditions"}]}, "parking": {"allOf": [{"$ref": "#/$defs/Parking"}]}},
      "required": ["routing", "traffic_and_conditions", "parking"], "title": "NavigationAndRouting",
      "type": "object"}, "OutputFormat": {"properties": {"sentence_preference_revealed":
      {"title": "Sentence Preference Revealed", "type": "string"}, "preference": {"title":
      "Preference", "type": "string"}}, "required": ["sentence_preference_revealed",
      "preference"], "title": "OutputFormat", "type": "object"}, "Parking": {"properties":
      {"preferred_parking_type": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Parking Type"}, "price_sensitivity_for_paid_parking":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Price Sensitivity For Paid Parking"}, "distance_willing_to_walk_from_parking_to_destination":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Distance Willing To Walk From Parking To Destination"},
      "preference_for_covered_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preference For Covered Parking"},
      "need_for_handicapped_accessible_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Need For Handicapped Accessible
      Parking"}, "preference_for_parking_with_security": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preference
      For Parking With Security"}}, "title": "Parking", "type": "object"}, "PointsOfInterest":
      {"properties": {"restaurant": {"allOf": [{"$ref": "#/$defs/Restaurant"}]}, "fire_station":
      {"allOf": [{"$ref": "#/$defs/FireStation"}]}, "dancing_station": {"allOf": [{"$ref":
      "#/$defs/DanceHall"}]}, "grocery_shopping": {"allOf": [{"$ref": "#/$defs/GroceryShopping"}]}},
      "required": ["restaurant", "fire_station", "dancing_station", "grocery_shopping"],
      "title": "PointsOfInterest", "type": "object"}, "RadioAndPodcast": {"properties":
      {"preferred_radio_station": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Radio Station"}, "favorite_podcast_genres":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Favorite Podcast Genres"}, "favorite_podcast_shows": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Favorite Podcast Shows"}, "general_news_source": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "General News Source"}}, "title": "RadioAndPodcast", "type": "object"}, "Restaurant":
      {"properties": {"favourite_cuisine": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favourite Cuisine"}, "preferred_restaurant_type":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Restaurant Type"}, "fast_food_preference": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Fast Food Preference"}, "desired_price_range": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Desired Price Range"}, "dietary_preference": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Dietary
      Preference"}, "preferred_payment_method": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Payment Method"}},
      "title": "Restaurant", "type": "object"}, "Routing": {"properties": {"avoidance_of_specific_road_types":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Avoidance Of Specific Road Types"}, "priority_for_shortest_time_or_shortest_distance":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Priority For Shortest Time Or Shortest Distance"}, "tolerance_for_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Tolerance For Traffic"}}, "title": "Routing", "type": "object"},
      "TrafficAndConditions": {"properties": {"traffic_information_source_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Traffic Information Source Preferences"}, "willingness_to_take_longer_route_to_avoid_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Willingness To Take Longer Route To Avoid Traffic"}}, "title":
      "TrafficAndConditions", "type": "object"}, "UserPreferences": {"properties":
      {"points_of_interest": {"allOf": [{"$ref": "#/$defs/PointsOfInterest"}]}, "routing":
      {"allOf": [{"$ref": "#/$defs/NavigationAndRouting"}]}, "comfort_settings": {"allOf":
      [{"$ref": "#/$defs/VehicleSettingsAndComfort"}]}, "entertainment_and_media":
      {"allOf": [{"$ref": "#/$defs/EntertainmentAndMedia"}]}}, "required": ["points_of_interest",
      "routing", "comfort_settings", "entertainment_and_media"], "title": "UserPreferences",
      "type": "object"}, "VehicleSettingsAndComfort": {"properties": {"climate_control":
      {"allOf": [{"$ref": "#/$defs/ClimateControl"}]}, "lighting_and_ambience": {"allOf":
      [{"$ref": "#/$defs/LightingAndAmbience"}]}}, "required": ["climate_control",
      "lighting_and_ambience"], "title": "VehicleSettingsAndComfort", "type": "object"}},
      "description": "A function that extracts personal preferences of the user in
      the categories ''Points of Interest'', ''Navigation and Routing'', ''Vehicle
      Settings and Comfort'', ''Entertainment and Media''.", "properties": {"pertinent_user_preferences":
      {"allOf": [{"$ref": "#/$defs/UserPreferences"}]}}, "required": ["pertinent_user_preferences"],
      "title": "extract_user_preferences_v1", "type": "object"}}}]}'
    headers: {}
    method: POST
    uri: https://api.fireworks.ai/inference/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//fFVNb9tKDPwrAc9yGyeOE+vWQ4ECPbzD+2jROljQK8reRlrqcSm7haH/
        XlCx5NhOepM5w+GQu1zvIRSQw7XHAu9KmtzMVovJDP395OHh/nZS+HI+p/mtX8xuIANe/SCvkIPf
        oL7zXDcVaeAIGXghVCogn97fXN/N59d38wxqLqiCHNB7bqOm92UQ2rE8pfc99Bwo2+hNZbK1Gn7D
        wVOC/PseQizoJ+TXGdSUEq4J8j0IV2SaKYWkGBUyUObKeayq87S+OQNc/fHb5///5a+LWfryz1+f
        /y4/rr7Nvv73ybJ/NSY42IDs+JnvIWJtKP1UQa+uTSSuESpJKHpKbjuFDFDWbU1RE+SwX0JDoiFS
        vKQvIb8yAoeoyXHpQlQSSnoA7BNbwTgEStxyK0HJ+TakEMnisa2qLrtago3PJUUzO0j3xYQKdw6O
        WQVGH+L6zcQBj6R2WCe5a2FP8sulDTdNiOuL5NQ2JDXKE6nzGwzH0n2+cKvHtNNfuOVgtckGkxry
        oQzeCWPh7IzSiREVLA3GWDjPsQjWyjDfAQyxZKn7Ll3iVjydH8ao16A8vdbPId47OG3Fc12yqEuk
        1sRQ21ehRjsvjipcXQgq1Q0JaiujXn+UGK1nq3jp0AgYpKx454og1N/Ot4iJUN2G0Ey92W4V1pue
        YPPDehWMcvDa38nA4kbSSuwrUkrngt/3VjCqBV5gTmhLWFFhnCV8KH60Sa8G4atB+N0S+tmPec/0
        indL6B4NuvTybFbf6v4ywXPF8uog+kmYeVEM0Ra4H0dNRcDDLOo2Bf9iF/tVXFOU06ojhKIh2WqL
        W2EsXiclPlyXATnejr6eSyqEdb+jJNvgT7desAjcO2248Dg+HkeVZ8bZ7p9YOGT+qZWBkja8O2Gs
        KZJg5SLt0mGtjiPtOui6xy6DMsSQNk4Ik72kLx/p7jGDdnjPG+G6Uaf8RDFBPnuYLuxFV6zG2N10
        epvB8f9mBG4Ws677DQAA//8DAM1u+zjEBgAA
    headers:
      Access-Control-Allow-Origin:
      - '*'
      CF-Cache-Status:
      - DYNAMIC
      CF-Ray:
      - 8a0beead49956462-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 09 Jul 2024 23:01:17 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      Via:
      - 1.1 google
      fireworks-server-processing-time:
      - '22.177'
      x-request-id:
      - 5cf905d0-5271-4c1b-ac3f-d173b3f62588
    status:
      code: 200
      message: OK
- request:
    body: '{"model": "accounts/fireworks/models/firefunction-v2", "stream": false,
      "messages": [{"role": "system", "content": "Extract the relevant user preferences
      from the conversation.\n## Additional Instructions\n    \n<instructions>\nOnly
      extract pertinent user preferences, no temporal desires. Extract same user preferences
      only once independent if the user has said it multiple times.\n</instructions>"},
      {"role": "user", "content": "<conversations>\n<conversation idx=0>\n<user id=82ee6962-2fd4-4add-a2dc-d34ae8e21da1>How''s
      the traffic ahead on this route?</user>\n<ai>The traffic in Mariani is currently
      flowing smoothly with no delays on your route.</ai>\n<user id=82ee6962-2fd4-4add-a2dc-d34ae8e21da1>Great,
      can we put on some music? I don''t like driving in silence.</user>\n<ai>Of course,
      would you like to choose a radio station or should I select a playlist for you?</ai>\n<user
      id=82ee6962-2fd4-4add-a2dc-d34ae8e21da1>Hmm, let''s go with a playlist, something
      upbeat and cheerful, you know the kind that''s always on the radio.</user>\n<ai>I
      have a Pop Hits playlist that fits that description. Shall I play it now?</ai>\n<user
      id=82ee6962-2fd4-4add-a2dc-d34ae8e21da1>That sounds perfect, pop music always
      lifts my spirits.</user>\n<ai>Playing the Pop Hits playlist. Enjoy your drive
      with some uplifting tunes!</ai>\n</conversation>\n</conversations>"}], "n":
      1, "temperature": 0.0, "tools": [{"type": "function", "function": {"name": "extract_user_preferences_v1",
      "description": "A function that extracts personal preferences of the user in
      the categories ''Points of Interest'', ''Navigation and Routing'', ''Vehicle
      Settings and Comfort'', ''Entertainment and Media''.", "parameters": {"$defs":
      {"ClimateControl": {"properties": {"preferred_temperature": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Preferred Temperature"}, "fan_speed_preferences": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Fan
      Speed Preferences"}, "airflow_direction_preferences": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Airflow
      Direction Preferences"}, "seat_heating_preferences": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Seat
      Heating Preferences"}}, "title": "ClimateControl", "type": "object"}, "DanceHall":
      {"properties": {"preferred_dancing_network": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Dancing Network"},
      "preferred_type_of_dancing_while_traveling": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Type Of Dancing While
      Traveling"}, "preferred_type_of_dancing_at_everyday_points": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Preferred Type Of Dancing At Everyday Points"}, "dancing_station_onsite_amenities":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Dancing Station Onsite Amenities"}}, "title": "DanceHall",
      "type": "object"}, "EntertainmentAndMedia": {"properties": {"music": {"allOf":
      [{"$ref": "#/$defs/Music"}]}, "radio_and_podcast": {"allOf": [{"$ref": "#/$defs/RadioAndPodcast"}]}},
      "required": ["music", "radio_and_podcast"], "title": "EntertainmentAndMedia",
      "type": "object"}, "FireStation": {"properties": {"preferred_fire_station":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Fire Station"}, "willingness_to_donate": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Willingness To Donate"}, "bingo_expertise": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Bingo
      Expertise"}}, "title": "FireStation", "type": "object"}, "GroceryShopping":
      {"properties": {"preferred_supermarket_chain": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preferred
      Supermarket Chain"}, "preference_for_local_markets_farms_or_supermarket": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Preference For Local Markets Farms Or Supermarket"}}, "title": "GroceryShopping",
      "type": "object"}, "LightingAndAmbience": {"properties": {"interior_lighting_brightness_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Brightness Preferences"}, "interior_lighting_ambient_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Ambient Preferences"}, "interior_lighting_color_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Color Preferences"}}, "title": "LightingAndAmbience",
      "type": "object"}, "Music": {"properties": {"favorite_genres": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Favorite Genres"}, "favorite_artists_or_bands": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Favorite
      Artists Or Bands"}, "favorite_songs": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favorite Songs"}, "preferred_music_streaming_service":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Music Streaming Service"}}, "title": "Music",
      "type": "object"}, "NavigationAndRouting": {"properties": {"routing": {"allOf":
      [{"$ref": "#/$defs/Routing"}]}, "traffic_and_conditions": {"allOf": [{"$ref":
      "#/$defs/TrafficAndConditions"}]}, "parking": {"allOf": [{"$ref": "#/$defs/Parking"}]}},
      "required": ["routing", "traffic_and_conditions", "parking"], "title": "NavigationAndRouting",
      "type": "object"}, "OutputFormat": {"properties": {"sentence_preference_revealed":
      {"title": "Sentence Preference Revealed", "type": "string"}, "preference": {"title":
      "Preference", "type": "string"}}, "required": ["sentence_preference_revealed",
      "preference"], "title": "OutputFormat", "type": "object"}, "Parking": {"properties":
      {"preferred_parking_type": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Parking Type"}, "price_sensitivity_for_paid_parking":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Price Sensitivity For Paid Parking"}, "distance_willing_to_walk_from_parking_to_destination":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Distance Willing To Walk From Parking To Destination"},
      "preference_for_covered_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preference For Covered Parking"},
      "need_for_handicapped_accessible_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Need For Handicapped Accessible
      Parking"}, "preference_for_parking_with_security": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preference
      For Parking With Security"}}, "title": "Parking", "type": "object"}, "PointsOfInterest":
      {"properties": {"restaurant": {"allOf": [{"$ref": "#/$defs/Restaurant"}]}, "fire_station":
      {"allOf": [{"$ref": "#/$defs/FireStation"}]}, "dancing_station": {"allOf": [{"$ref":
      "#/$defs/DanceHall"}]}, "grocery_shopping": {"allOf": [{"$ref": "#/$defs/GroceryShopping"}]}},
      "required": ["restaurant", "fire_station", "dancing_station", "grocery_shopping"],
      "title": "PointsOfInterest", "type": "object"}, "RadioAndPodcast": {"properties":
      {"preferred_radio_station": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Radio Station"}, "favorite_podcast_genres":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Favorite Podcast Genres"}, "favorite_podcast_shows": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Favorite Podcast Shows"}, "general_news_source": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "General News Source"}}, "title": "RadioAndPodcast", "type": "object"}, "Restaurant":
      {"properties": {"favourite_cuisine": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favourite Cuisine"}, "preferred_restaurant_type":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Restaurant Type"}, "fast_food_preference": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Fast Food Preference"}, "desired_price_range": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Desired Price Range"}, "dietary_preference": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Dietary
      Preference"}, "preferred_payment_method": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Payment Method"}},
      "title": "Restaurant", "type": "object"}, "Routing": {"properties": {"avoidance_of_specific_road_types":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Avoidance Of Specific Road Types"}, "priority_for_shortest_time_or_shortest_distance":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Priority For Shortest Time Or Shortest Distance"}, "tolerance_for_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Tolerance For Traffic"}}, "title": "Routing", "type": "object"},
      "TrafficAndConditions": {"properties": {"traffic_information_source_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Traffic Information Source Preferences"}, "willingness_to_take_longer_route_to_avoid_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Willingness To Take Longer Route To Avoid Traffic"}}, "title":
      "TrafficAndConditions", "type": "object"}, "UserPreferences": {"properties":
      {"points_of_interest": {"allOf": [{"$ref": "#/$defs/PointsOfInterest"}]}, "routing":
      {"allOf": [{"$ref": "#/$defs/NavigationAndRouting"}]}, "comfort_settings": {"allOf":
      [{"$ref": "#/$defs/VehicleSettingsAndComfort"}]}, "entertainment_and_media":
      {"allOf": [{"$ref": "#/$defs/EntertainmentAndMedia"}]}}, "required": ["points_of_interest",
      "routing", "comfort_settings", "entertainment_and_media"], "title": "UserPreferences",
      "type": "object"}, "VehicleSettingsAndComfort": {"properties": {"climate_control":
      {"allOf": [{"$ref": "#/$defs/ClimateControl"}]}, "lighting_and_ambience": {"allOf":
      [{"$ref": "#/$defs/LightingAndAmbience"}]}}, "required": ["climate_control",
      "lighting_and_ambience"], "title": "VehicleSettingsAndComfort", "type": "object"}},
      "description": "A function that extracts personal preferences of the user in
      the categories ''Points of Interest'', ''Navigation and Routing'', ''Vehicle
      Settings and Comfort'', ''Entertainment and Media''.", "properties": {"pertinent_user_preferences":
      {"allOf": [{"$ref": "#/$defs/UserPreferences"}]}}, "required": ["pertinent_user_preferences"],
      "title": "extract_user_preferences_v1", "type": "object"}}}]}'
    headers: {}
    method: POST
    uri: https://api.fireworks.ai/inference/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//jFVNb9swDP0rBc/O2ny28W1YgQHDLj3tsA4CI9MJV1v0KDptEfi/D3Lj
        pGnaYTdZj+/xURTlHXABOeByMlmWUxpN55PxaLZYFqMbWtDILxd4PS1uZrMbggxk9Zu8QQ5+g/bJ
        S91UZCwBMvBKaFRAPr6eXM0Xi6v5IoNaCqqSvPfSBouXJSs9ij7Eyx562Sjb4JPKaDtJQhthTxHy
        nzvgUNAT5FcZ1BQjrgnyHahUlDRj5GgYDDIwkcp5rKq3tL64BLhb+Tb/Pntq75Z/vt59/jHn5eq2
        /YKpKntukuBgA7LjMt9BwDqh9GSK3lwbSV2jVJJS8BTddgwZoK7bmoJFyGF3Dw2pcaBwHn4P+UUK
        EA4WnZSOg5FStD2QltgqhmGjxK20ykbOtxw5UNoPbVV12cU9pONz0TCZHaT7ZEqFewseWAUGz2H9
        IXHAA1lq1gl3reJJn13cSNNwWJ+RY9uQ1qgPZM5vkI+pe75Ka0fa6RduhVNuSgcTG/JcsncqWLjU
        o3hixBTLBGMonJdQcCplON8B5FCK1n2VLkqrnt4246DXoD68V89+v3dwWoqXuhQ1F8lSEUNuX3GN
        qV8STKU6EzSqG1K0Vg96fSsxpJpTxnOHKQBZy0oeXcFK/e38KDASmtsQJlMfllvxetMHpPPDesUp
        ZO+1v5Ms6g5BK02rQDF+lPSc8yJq/0/wUom+a7h3TIlgyCENWm+7poJx77luI/tXM9OPzJqCnmY9
        QKjGMY2guhWG4v2gKPu2Dsixi30+F00J636WSLfsT6dTsWDpnTZSeDwM+VHlJeLNjJ5Y2DP/VcoQ
        EjfyeBKxpkCKlQv0GPfX/3ikXQdd96vLoOTAceOUMKYX7/Vj2v3KoB3e3UalbsyZPFCIkM9uptfp
        5TWsDnvz8XiawfG/cAAm14uu+wsAAP//AwApDhpRbAYAAA==
    headers:
      Access-Control-Allow-Origin:
      - '*'
      CF-Cache-Status:
      - DYNAMIC
      CF-Ray:
      - 8a0beead3d3c96ae-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 09 Jul 2024 23:01:17 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      Via:
      - 1.1 google
      fireworks-server-processing-time:
      - '22.162'
      x-request-id:
      - 12ad23ab-be35-47a1-847a-892887ab095a
    status:
      code: 200
      message: OK
- request:
    body: '{"model": "accounts/fireworks/models/firefunction-v2", "stream": false,
      "messages": [{"role": "system", "content": "Extract the relevant user preferences
      from the conversation.\n## Additional Instructions\n    \n<instructions>\nOnly
      extract pertinent user preferences, no temporal desires. Extract same user preferences
      only once independent if the user has said it multiple times.\n</instructions>"},
      {"role": "user", "content": "<conversations>\n<conversation idx=0>\n<user id=0a1708e8-1956-4f6b-aa23-f1698ecd6427>Make
      the lights yellow inside</user>\n<ai>Certainly, changing the interior lighting
      to yellow now for a warm and cozy atmosphere.</ai>\n</conversation>\n</conversations>"}],
      "n": 1, "temperature": 0.0, "tools": [{"type": "function", "function": {"name":
      "extract_user_preferences_v1", "description": "A function that extracts personal
      preferences of the user in the categories ''Points of Interest'', ''Navigation
      and Routing'', ''Vehicle Settings and Comfort'', ''Entertainment and Media''.",
      "parameters": {"$defs": {"ClimateControl": {"properties": {"preferred_temperature":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Temperature"}, "fan_speed_preferences": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Fan Speed Preferences"}, "airflow_direction_preferences": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Airflow Direction Preferences"}, "seat_heating_preferences": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Seat Heating Preferences"}}, "title": "ClimateControl", "type": "object"},
      "DanceHall": {"properties": {"preferred_dancing_network": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Preferred Dancing Network"}, "preferred_type_of_dancing_while_traveling": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Preferred Type Of Dancing While Traveling"}, "preferred_type_of_dancing_at_everyday_points":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Type Of Dancing At Everyday Points"}, "dancing_station_onsite_amenities":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Dancing Station Onsite Amenities"}}, "title": "DanceHall",
      "type": "object"}, "EntertainmentAndMedia": {"properties": {"music": {"allOf":
      [{"$ref": "#/$defs/Music"}]}, "radio_and_podcast": {"allOf": [{"$ref": "#/$defs/RadioAndPodcast"}]}},
      "required": ["music", "radio_and_podcast"], "title": "EntertainmentAndMedia",
      "type": "object"}, "FireStation": {"properties": {"preferred_fire_station":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Fire Station"}, "willingness_to_donate": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Willingness To Donate"}, "bingo_expertise": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Bingo
      Expertise"}}, "title": "FireStation", "type": "object"}, "GroceryShopping":
      {"properties": {"preferred_supermarket_chain": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preferred
      Supermarket Chain"}, "preference_for_local_markets_farms_or_supermarket": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Preference For Local Markets Farms Or Supermarket"}}, "title": "GroceryShopping",
      "type": "object"}, "LightingAndAmbience": {"properties": {"interior_lighting_brightness_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Brightness Preferences"}, "interior_lighting_ambient_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Ambient Preferences"}, "interior_lighting_color_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Color Preferences"}}, "title": "LightingAndAmbience",
      "type": "object"}, "Music": {"properties": {"favorite_genres": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Favorite Genres"}, "favorite_artists_or_bands": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Favorite
      Artists Or Bands"}, "favorite_songs": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favorite Songs"}, "preferred_music_streaming_service":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Music Streaming Service"}}, "title": "Music",
      "type": "object"}, "NavigationAndRouting": {"properties": {"routing": {"allOf":
      [{"$ref": "#/$defs/Routing"}]}, "traffic_and_conditions": {"allOf": [{"$ref":
      "#/$defs/TrafficAndConditions"}]}, "parking": {"allOf": [{"$ref": "#/$defs/Parking"}]}},
      "required": ["routing", "traffic_and_conditions", "parking"], "title": "NavigationAndRouting",
      "type": "object"}, "OutputFormat": {"properties": {"sentence_preference_revealed":
      {"title": "Sentence Preference Revealed", "type": "string"}, "preference": {"title":
      "Preference", "type": "string"}}, "required": ["sentence_preference_revealed",
      "preference"], "title": "OutputFormat", "type": "object"}, "Parking": {"properties":
      {"preferred_parking_type": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Parking Type"}, "price_sensitivity_for_paid_parking":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Price Sensitivity For Paid Parking"}, "distance_willing_to_walk_from_parking_to_destination":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Distance Willing To Walk From Parking To Destination"},
      "preference_for_covered_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preference For Covered Parking"},
      "need_for_handicapped_accessible_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Need For Handicapped Accessible
      Parking"}, "preference_for_parking_with_security": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preference
      For Parking With Security"}}, "title": "Parking", "type": "object"}, "PointsOfInterest":
      {"properties": {"restaurant": {"allOf": [{"$ref": "#/$defs/Restaurant"}]}, "fire_station":
      {"allOf": [{"$ref": "#/$defs/FireStation"}]}, "dancing_station": {"allOf": [{"$ref":
      "#/$defs/DanceHall"}]}, "grocery_shopping": {"allOf": [{"$ref": "#/$defs/GroceryShopping"}]}},
      "required": ["restaurant", "fire_station", "dancing_station", "grocery_shopping"],
      "title": "PointsOfInterest", "type": "object"}, "RadioAndPodcast": {"properties":
      {"preferred_radio_station": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Radio Station"}, "favorite_podcast_genres":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Favorite Podcast Genres"}, "favorite_podcast_shows": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Favorite Podcast Shows"}, "general_news_source": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "General News Source"}}, "title": "RadioAndPodcast", "type": "object"}, "Restaurant":
      {"properties": {"favourite_cuisine": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favourite Cuisine"}, "preferred_restaurant_type":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Restaurant Type"}, "fast_food_preference": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Fast Food Preference"}, "desired_price_range": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Desired Price Range"}, "dietary_preference": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Dietary
      Preference"}, "preferred_payment_method": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Payment Method"}},
      "title": "Restaurant", "type": "object"}, "Routing": {"properties": {"avoidance_of_specific_road_types":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Avoidance Of Specific Road Types"}, "priority_for_shortest_time_or_shortest_distance":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Priority For Shortest Time Or Shortest Distance"}, "tolerance_for_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Tolerance For Traffic"}}, "title": "Routing", "type": "object"},
      "TrafficAndConditions": {"properties": {"traffic_information_source_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Traffic Information Source Preferences"}, "willingness_to_take_longer_route_to_avoid_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Willingness To Take Longer Route To Avoid Traffic"}}, "title":
      "TrafficAndConditions", "type": "object"}, "UserPreferences": {"properties":
      {"points_of_interest": {"allOf": [{"$ref": "#/$defs/PointsOfInterest"}]}, "routing":
      {"allOf": [{"$ref": "#/$defs/NavigationAndRouting"}]}, "comfort_settings": {"allOf":
      [{"$ref": "#/$defs/VehicleSettingsAndComfort"}]}, "entertainment_and_media":
      {"allOf": [{"$ref": "#/$defs/EntertainmentAndMedia"}]}}, "required": ["points_of_interest",
      "routing", "comfort_settings", "entertainment_and_media"], "title": "UserPreferences",
      "type": "object"}, "VehicleSettingsAndComfort": {"properties": {"climate_control":
      {"allOf": [{"$ref": "#/$defs/ClimateControl"}]}, "lighting_and_ambience": {"allOf":
      [{"$ref": "#/$defs/LightingAndAmbience"}]}}, "required": ["climate_control",
      "lighting_and_ambience"], "title": "VehicleSettingsAndComfort", "type": "object"}},
      "description": "A function that extracts personal preferences of the user in
      the categories ''Points of Interest'', ''Navigation and Routing'', ''Vehicle
      Settings and Comfort'', ''Entertainment and Media''.", "properties": {"pertinent_user_preferences":
      {"allOf": [{"$ref": "#/$defs/UserPreferences"}]}}, "required": ["pertinent_user_preferences"],
      "title": "extract_user_preferences_v1", "type": "object"}}}]}'
    headers: {}
    method: POST
    uri: https://api.fireworks.ai/inference/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//jFXRbts6DP2Vgc/OXdqmbuo/2MOGPQy4D7eDQMt0zMUWPYpOVgT+9wu5
        cbI07bA3Wecc8lAU5QNwBQWsV/mjX1YPC19W94vVOs8X5U35uMjLclX7Vbm+Kz1kIOUP8gYF+Abt
        Hy9d35KxBMjAK6FRBcXNw+3yPs+X93kGnVTUQgHovQzB4sealfai2/hxgl426iH4FGWxu02BGmFP
        EYr/DsChol9QLDPoKEbcEBQHUGkpxYyRo2EwyMBEWuexbV/LpuIS4O6aL/82N/v1z+2356X/8enT
        59Wy+fqZkvq5TwFnG5Cdl8UBAnYJpV+m6M0NkdT1SjUpBU/R7W4gA9TN0FGwCAUcnqAnNQ4UrulP
        UHxIBOFg0UntOBgpRTsCaYmDYpg3atzJoGzk/MCRA6X9MLTtmH14gnR8Lhoms3PoKZlS5V6DJ1WF
        wXPYvCuc8UCWmnWh3ah40mcXG+l7DpsrcRx60g51S+Z8g3xOPelVBjvLLr9wJ5xyUzqY2JPnmr1T
        wcqlHsULI6ZYJxhD5byEilMp8/nOIIdatJuqdFEG9fS6Gad4Per2rXqO+5ODy1K8dLWouUiWiphz
        +5Y7TP2SYCrtVUCjridFG/QUb2olhlRzynjtMBGQtW5l7ypWmm7ne8RIaK4hTKbeLbflTTMR0vlh
        V3KiHL1Od5JF3YlUaloFivG9pNeal6D29wIvreibhifHlASGHNKgTbY7qhiPnrshsv9tZqaR2VDQ
        y6wnCNU4phFUV2Ko3iZFObZ1Rs5dnPK5aErYTbNEumN/OZ2KFcvktJfK42nIz1FeGK9m9MLCUfmn
        UmZKbGR/wdhQIMXWBdrH4/U/H+k4wjh+HzOoOXBsnBLG9OL9/piO3zMY5ne3V+l6cyZbChGKVX53
        m15ew/a897hcZ3D+L5yA24d8HP8HAAD//wMAjfL562wGAAA=
    headers:
      Access-Control-Allow-Origin:
      - '*'
      CF-Cache-Status:
      - DYNAMIC
      CF-Ray:
      - 8a0beead398a2523-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 09 Jul 2024 23:01:17 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      Via:
      - 1.1 google
      fireworks-server-processing-time:
      - '22.189'
      x-request-id:
      - 749b7427-a5a1-482d-bcd0-fa7e03619743
    status:
      code: 200
      message: OK
- request:
    body: '{"model": "accounts/fireworks/models/firefunction-v2", "stream": false,
      "messages": [{"role": "system", "content": "Extract the relevant user preferences
      from the conversation.\n## Additional Instructions\n    \n<instructions>\nOnly
      extract pertinent user preferences, no temporal desires. Extract same user preferences
      only once independent if the user has said it multiple times.\n</instructions>"},
      {"role": "user", "content": "<conversations>\n<conversation idx=0>\n<user id=5ff7412a-3140-438b-8430-c96dc0c7da05>I''ve
      been craving some good Italian food lately, can you suggest a nice Italian restaurant
      nearby?</user>\n<ai>Certainly, there''s an Italian restaurant called La Cucina,
      4 kilometers away with excellent reviews. Shall I navigate there?</ai>\n<user
      id=5ff7412a-3140-438b-8430-c96dc0c7da05>La Cucina sounds perfect, please turn
      on the navigation.</user>\n<ai>Navigation to La Cucina is now active. You will
      arrive in approximately 12 minutes. Enjoy your meal!</ai>\n</conversation>\n</conversations>"}],
      "n": 1, "temperature": 0.0, "tools": [{"type": "function", "function": {"name":
      "extract_user_preferences_v1", "description": "A function that extracts personal
      preferences of the user in the categories ''Points of Interest'', ''Navigation
      and Routing'', ''Vehicle Settings and Comfort'', ''Entertainment and Media''.",
      "parameters": {"$defs": {"ClimateControl": {"properties": {"preferred_temperature":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Temperature"}, "fan_speed_preferences": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Fan Speed Preferences"}, "airflow_direction_preferences": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Airflow Direction Preferences"}, "seat_heating_preferences": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Seat Heating Preferences"}}, "title": "ClimateControl", "type": "object"},
      "DanceHall": {"properties": {"preferred_dancing_network": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Preferred Dancing Network"}, "preferred_type_of_dancing_while_traveling": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Preferred Type Of Dancing While Traveling"}, "preferred_type_of_dancing_at_everyday_points":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Type Of Dancing At Everyday Points"}, "dancing_station_onsite_amenities":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Dancing Station Onsite Amenities"}}, "title": "DanceHall",
      "type": "object"}, "EntertainmentAndMedia": {"properties": {"music": {"allOf":
      [{"$ref": "#/$defs/Music"}]}, "radio_and_podcast": {"allOf": [{"$ref": "#/$defs/RadioAndPodcast"}]}},
      "required": ["music", "radio_and_podcast"], "title": "EntertainmentAndMedia",
      "type": "object"}, "FireStation": {"properties": {"preferred_fire_station":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Fire Station"}, "willingness_to_donate": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Willingness To Donate"}, "bingo_expertise": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Bingo
      Expertise"}}, "title": "FireStation", "type": "object"}, "GroceryShopping":
      {"properties": {"preferred_supermarket_chain": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preferred
      Supermarket Chain"}, "preference_for_local_markets_farms_or_supermarket": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Preference For Local Markets Farms Or Supermarket"}}, "title": "GroceryShopping",
      "type": "object"}, "LightingAndAmbience": {"properties": {"interior_lighting_brightness_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Brightness Preferences"}, "interior_lighting_ambient_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Ambient Preferences"}, "interior_lighting_color_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Interior Lighting Color Preferences"}}, "title": "LightingAndAmbience",
      "type": "object"}, "Music": {"properties": {"favorite_genres": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Favorite Genres"}, "favorite_artists_or_bands": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Favorite
      Artists Or Bands"}, "favorite_songs": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favorite Songs"}, "preferred_music_streaming_service":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Music Streaming Service"}}, "title": "Music",
      "type": "object"}, "NavigationAndRouting": {"properties": {"routing": {"allOf":
      [{"$ref": "#/$defs/Routing"}]}, "traffic_and_conditions": {"allOf": [{"$ref":
      "#/$defs/TrafficAndConditions"}]}, "parking": {"allOf": [{"$ref": "#/$defs/Parking"}]}},
      "required": ["routing", "traffic_and_conditions", "parking"], "title": "NavigationAndRouting",
      "type": "object"}, "OutputFormat": {"properties": {"sentence_preference_revealed":
      {"title": "Sentence Preference Revealed", "type": "string"}, "preference": {"title":
      "Preference", "type": "string"}}, "required": ["sentence_preference_revealed",
      "preference"], "title": "OutputFormat", "type": "object"}, "Parking": {"properties":
      {"preferred_parking_type": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Parking Type"}, "price_sensitivity_for_paid_parking":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Price Sensitivity For Paid Parking"}, "distance_willing_to_walk_from_parking_to_destination":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Distance Willing To Walk From Parking To Destination"},
      "preference_for_covered_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preference For Covered Parking"},
      "need_for_handicapped_accessible_parking": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Need For Handicapped Accessible
      Parking"}, "preference_for_parking_with_security": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Preference
      For Parking With Security"}}, "title": "Parking", "type": "object"}, "PointsOfInterest":
      {"properties": {"restaurant": {"allOf": [{"$ref": "#/$defs/Restaurant"}]}, "fire_station":
      {"allOf": [{"$ref": "#/$defs/FireStation"}]}, "dancing_station": {"allOf": [{"$ref":
      "#/$defs/DanceHall"}]}, "grocery_shopping": {"allOf": [{"$ref": "#/$defs/GroceryShopping"}]}},
      "required": ["restaurant", "fire_station", "dancing_station", "grocery_shopping"],
      "title": "PointsOfInterest", "type": "object"}, "RadioAndPodcast": {"properties":
      {"preferred_radio_station": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Radio Station"}, "favorite_podcast_genres":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Favorite Podcast Genres"}, "favorite_podcast_shows": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Favorite Podcast Shows"}, "general_news_source": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "General News Source"}}, "title": "RadioAndPodcast", "type": "object"}, "Restaurant":
      {"properties": {"favourite_cuisine": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Favourite Cuisine"}, "preferred_restaurant_type":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Preferred Restaurant Type"}, "fast_food_preference": {"anyOf":
      [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}],
      "title": "Fast Food Preference"}, "desired_price_range": {"anyOf": [{"items":
      {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title":
      "Desired Price Range"}, "dietary_preference": {"anyOf": [{"items": {"$ref":
      "#/$defs/OutputFormat"}, "type": "array"}, {"type": "null"}], "title": "Dietary
      Preference"}, "preferred_payment_method": {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"},
      "type": "array"}, {"type": "null"}], "title": "Preferred Payment Method"}},
      "title": "Restaurant", "type": "object"}, "Routing": {"properties": {"avoidance_of_specific_road_types":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Avoidance Of Specific Road Types"}, "priority_for_shortest_time_or_shortest_distance":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Priority For Shortest Time Or Shortest Distance"}, "tolerance_for_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Tolerance For Traffic"}}, "title": "Routing", "type": "object"},
      "TrafficAndConditions": {"properties": {"traffic_information_source_preferences":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Traffic Information Source Preferences"}, "willingness_to_take_longer_route_to_avoid_traffic":
      {"anyOf": [{"items": {"$ref": "#/$defs/OutputFormat"}, "type": "array"}, {"type":
      "null"}], "title": "Willingness To Take Longer Route To Avoid Traffic"}}, "title":
      "TrafficAndConditions", "type": "object"}, "UserPreferences": {"properties":
      {"points_of_interest": {"allOf": [{"$ref": "#/$defs/PointsOfInterest"}]}, "routing":
      {"allOf": [{"$ref": "#/$defs/NavigationAndRouting"}]}, "comfort_settings": {"allOf":
      [{"$ref": "#/$defs/VehicleSettingsAndComfort"}]}, "entertainment_and_media":
      {"allOf": [{"$ref": "#/$defs/EntertainmentAndMedia"}]}}, "required": ["points_of_interest",
      "routing", "comfort_settings", "entertainment_and_media"], "title": "UserPreferences",
      "type": "object"}, "VehicleSettingsAndComfort": {"properties": {"climate_control":
      {"allOf": [{"$ref": "#/$defs/ClimateControl"}]}, "lighting_and_ambience": {"allOf":
      [{"$ref": "#/$defs/LightingAndAmbience"}]}}, "required": ["climate_control",
      "lighting_and_ambience"], "title": "VehicleSettingsAndComfort", "type": "object"}},
      "description": "A function that extracts personal preferences of the user in
      the categories ''Points of Interest'', ''Navigation and Routing'', ''Vehicle
      Settings and Comfort'', ''Entertainment and Media''.", "properties": {"pertinent_user_preferences":
      {"allOf": [{"$ref": "#/$defs/UserPreferences"}]}}, "required": ["pertinent_user_preferences"],
      "title": "extract_user_preferences_v1", "type": "object"}}}]}'
    headers: {}
    method: POST
    uri: https://api.fireworks.ai/inference/v1/chat/completions
  response:
    body:
      string: no healthy upstream
    headers:
      Access-Control-Allow-Origin:
      - '*'
      CF-Cache-Status:
      - DYNAMIC
      CF-Ray:
      - 8a0bef64d82a643e-SJC
      Connection:
      - keep-alive
      Content-Length:
      - '19'
      Content-Type:
      - text/plain
      Date:
      - Tue, 09 Jul 2024 23:01:18 GMT
      Server:
      - cloudflare
      Vary:
      - Accept-Encoding
      Via:
      - 1.1 google
      x-request-id:
      - 9652e40e-f0a4-44c1-bdb0-49154d7fd040
    status:
      code: 503
      message: Service Unavailable
- request:
    body: '{"model": "accounts/fireworks/models/firefunction-v2", "stream": false,
      "messages": [{"role": "system", "content": "Extract the relevant user preferences
      from the conversation.\n## Additional Instructions\n    \n<instructions>\nRemember
      that this schema must be useful for prompt engineering an AI assistant.\n</instructions>"},
      {"role": "user", "content": "<conversations>\n<conversation idx=0>\n<user id=a4206dff-4858-48ef-8944-7a3a71a77c8b>Hello</user>\n<ai>Bonjour
      Kevin! Let''s start with some basic questions to assess your French proficiency.
      \n\n**Fill in the blank:** Je mange des p\u00e2tes parce que j''ai ____. \n\nA)
      soif  \nB) faim  \nC) froid  \nD) chaud</ai>\n</conversation>\n</conversations>"}],
      "n": 1, "temperature": 0.0, "tools": [{"type": "function", "function": {"name":
      "UserProfile", "description": "", "parameters": {"properties": {"name": {"description":
      "The user''s name", "title": "Name", "type": "string"}, "age": {"description":
      "The user''s age", "title": "Age", "type": "integer"}, "interests": {"description":
      "The user''s interests", "items": {"type": "string"}, "title": "Interests",
      "type": "array"}, "relationships": {"description": "The user''s friends, family,
      pets,and other relationships.", "title": "Relationships", "type": "object"},
      "other_useful_info": {"description": "Any other details you would like to know
      about the user.", "items": {"type": "string"}, "title": "Other Useful Info",
      "type": "array"}, "ai_instructions": {"description": "Prompt instructions that
      you as the AI assistant should always retain in subsequent conversations.",
      "items": {"type": "string"}, "title": "Ai Instructions", "type": "array"}},
      "required": ["name", "age", "interests", "relationships", "other_useful_info",
      "ai_instructions"], "title": "UserProfile", "type": "object"}}}]}'
    headers: {}
    method: POST
    uri: https://api.fireworks.ai/inference/v1/chat/completions
  response:
    body:
      string: no healthy upstream
    headers:
      Access-Control-Allow-Origin:
      - '*'
      CF-Cache-Status:
      - DYNAMIC
      CF-Ray:
      - 8a0bef64ded8cfac-SJC
      Connection:
      - keep-alive
      Content-Length:
      - '19'
      Content-Type:
      - text/plain
      Date:
      - Tue, 09 Jul 2024 23:01:18 GMT
      Server:
      - cloudflare
      Vary:
      - Accept-Encoding
      Via:
      - 1.1 google
      x-request-id:
      - d022ee9e-1f7b-4c96-a992-25c0103d3b2a
    status:
      code: 503
      message: Service Unavailable
- request:
    body: '{"model": "accounts/fireworks/models/firefunction-v2", "stream": false,
      "messages": [{"role": "system", "content": "Extract the relevant user preferences
      from the conversation.\n## Additional Instructions\n    \n<instructions>\nRemember
      that this schema must be useful for prompt engineering an AI assistant.\n</instructions>"},
      {"role": "user", "content": "<conversations>\n<conversation idx=0>\n<user id=1098f610-90a2-4ae7-abb6-096061b4713a>Hello</user>\n<ai>Bonjour
      Kevin! Let''s begin with a simple question to gauge your understanding of French.
      Please fill in the gap:\n\nJe __________ fran\u00e7ais. \na) parles\nb) parler\nc)
      parle</ai>\n</conversation>\n</conversations>"}], "n": 1, "temperature": 0.0,
      "tools": [{"type": "function", "function": {"name": "UserProfile", "description":
      "", "parameters": {"properties": {"name": {"description": "The user''s name",
      "title": "Name", "type": "string"}, "age": {"description": "The user''s age",
      "title": "Age", "type": "integer"}, "interests": {"description": "The user''s
      interests", "items": {"type": "string"}, "title": "Interests", "type": "array"},
      "relationships": {"description": "The user''s friends, family, pets,and other
      relationships.", "title": "Relationships", "type": "object"}, "other_useful_info":
      {"description": "Any other details you would like to know about the user.",
      "items": {"type": "string"}, "title": "Other Useful Info", "type": "array"},
      "ai_instructions": {"description": "Prompt instructions that you as the AI assistant
      should always retain in subsequent conversations.", "items": {"type": "string"},
      "title": "Ai Instructions", "type": "array"}}, "required": ["name", "age", "interests",
      "relationships", "other_useful_info", "ai_instructions"], "title": "UserProfile",
      "type": "object"}}}]}'
    headers: {}
    method: POST
    uri: https://api.fireworks.ai/inference/v1/chat/completions
  response:
    body:
      string: no healthy upstream
    headers:
      Access-Control-Allow-Origin:
      - '*'
      CF-Cache-Status:
      - DYNAMIC
      CF-Ray:
      - 8a0bef64db9a1742-SJC
      Connection:
      - keep-alive
      Content-Length:
      - '19'
      Content-Type:
      - text/plain
      Date:
      - Tue, 09 Jul 2024 23:01:18 GMT
      Server:
      - cloudflare
      Vary:
      - Accept-Encoding
      Via:
      - 1.1 google
      x-request-id:
      - 288d15bf-6a67-4a92-bd69-5bed754955c3
    status:
      code: 503
      message: Service Unavailable
- request:
    body: '{"max_tokens": 1024, "messages": [{"role": "user", "content": "<conversations>\n<conversation
      idx=0>\n<system>You are a helpful AI assistant</system>\n<user id=f2485662-64c1-4865-b77f-6bdf3ae07f85>I''m
      Jeremiah and I''m 27 years old, have one cat named Morgan and a dog named Ehud.
      Used to have a cat named Watson, but he passed away :(; and I''m into pasta
      making.</user>\n</conversation>\n</conversations>"}], "model": "claude-3-5-sonnet-20240620",
      "system": "Extract the relevant user preferences from the conversation.\n##
      Additional Instructions\n    \n<instructions>\nRemember that this schema must
      be useful for prompt engineering an AI assistant.\n</instructions>\n\nGenerate
      a JSONPatch to update the existing schema instances.\n\n<schema id=UserMemory>\n<instance>\n{''name'':
      ''Joe'', ''age'': 40, ''interests'': [''drones''], ''relationships'': {''cats'':
      ''Sherlock and Mycroft''}, ''ai_instructions'': []}\n</instance>\n<json_schema>\n{''properties'':
      {''name'': {''description'': \"The user''s name\", ''examples'': None, ''title'':
      ''Name'', ''type'': ''string''}, ''age'': {''description'': \"The user''s age\",
      ''examples'': None, ''title'': ''Age'', ''type'': ''integer''}, ''interests'':
      {''description'': \"The user''s interests\", ''examples'': None, ''items'':
      {''type'': ''string''}, ''title'': ''Interests'', ''type'': ''array''}, ''relationships'':
      {''description'': \"The user''s friends, family, pets,and other relationships.\",
      ''examples'': None, ''title'': ''Relationships'', ''type'': ''object''}, ''ai_instructions'':
      {''description'': ''Prompt instructions that you as the AI assistant should
      always retain in subsequent conversations.'', ''examples'': None, ''items'':
      {''type'': ''string''}, ''title'': ''Ai Instructions'', ''type'': ''array''}},
      ''required'': [''name'', ''age'', ''interests'', ''relationships'', ''ai_instructions''],
      ''title'': ''UserMemory'', ''type'': ''object''}\n</json_schema>\n</schema>\n",
      "temperature": 0.0, "tool_choice": {"type": "tool", "name": "PatchFunctionParameters"},
      "tools": [{"name": "PatchFunctionParameters", "description": "Respond with all
      JSONPatch operations required to update the previous function call.\n\nUse to
      correct all validation errors in non-compliant function calls,\nor to extend
      or update existing structured data in the presence of new information.", "input_schema":
      {"type": "object", "properties": {"schema_id": {"description": "The ID of the
      function you are patching.", "type": "string"}, "reasoning": {"description":
      "Think step-by-step, listing each validation error and the JSONPatch operation
      needed to correct it. Cite the fields in the JSONSchema you referenced in developing
      this plan.", "type": "string"}, "patches": {"description": "A list of JSONPatch
      operations to be applied to the previous tool call''s response.", "type": "array",
      "items": {"description": "A JSON Patch document represents an operation to be
      performed on a JSON document.\n\nNote that the op and path are ALWAYS required.
      Value is required for ALL operations except ''remove''.\n\nExamples:\n```json\n{\"op\":
      \"add\", \"path\": \"/a/b/c\", \"patch_value\": 1}\n{\"op\": \"replace\", \"path\":
      \"/a/b/c\", \"patch_value\": 2}\n{\"op\": \"remove\", \"path\": \"/a/b/c\"}\n```",
      "type": "object", "properties": {"op": {"description": "The operation to be
      performed. Must be one of ''add'', ''remove'', ''replace''.", "enum": ["add",
      "remove", "replace"], "type": "string"}, "path": {"description": "A JSON Pointer
      path that references a location within the target document where the operation
      is performed.", "type": "string"}, "value": {"description": "The value to be
      used within the operation. REQUIRED for ''add'', ''replace'', and ''test'' operations.",
      "anyOf": [{"type": "string"}, {"type": "integer"}, {"type": "boolean"}, {"type":
      "number"}, {"type": "array", "items": {"anyOf": [{"type": "string"}, {"type":
      "integer"}, {"type": "boolean"}, {"type": "number"}]}}, {"type": "object", "additionalProperties":
      {"anyOf": [{"type": "string"}, {"type": "integer"}, {"type": "boolean"}, {"type":
      "number"}]}}, {"type": "array", "items": {"anyOf": [{"type": "string"}, {"type":
      "integer"}, {"type": "boolean"}, {"type": "number"}, {"type": "array", "items":
      {"anyOf": [{"type": "string"}, {"type": "integer"}, {"type": "boolean"}, {"type":
      "number"}]}}, {"type": "object", "additionalProperties": {"anyOf": [{"type":
      "string"}, {"type": "integer"}, {"type": "boolean"}, {"type": "number"}]}}]}},
      {"type": "object", "additionalProperties": {"anyOf": [{"type": "string"}, {"type":
      "integer"}, {"type": "boolean"}, {"type": "number"}, {"type": "array", "items":
      {"anyOf": [{"type": "string"}, {"type": "integer"}, {"type": "boolean"}, {"type":
      "number"}]}}, {"type": "object", "additionalProperties": {"anyOf": [{"type":
      "string"}, {"type": "integer"}, {"type": "boolean"}, {"type": "number"}]}}]}}]}},
      "required": ["op", "path", "value"]}}}, "required": ["schema_id", "reasoning",
      "patches"]}}]}'
    headers: {}
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA5RVYW/bRgz9KwS/ZAVk1XGdZtW3ZkuxZEubtOkMLDYMWqKlq0936vFkwzD834c7
        2bW9ZQH2SRZFvvfuHUlvUBWYYS3ltH9+L9dqOPryuPr91+sH8+GvP9u33+0aE/TrhkMWi1DJmKCz
        OgRIRIkn4zHB2hasMcNcU1tw703voifWGPa9QX8w7L8d9DHB3BrPxmP2tNmDemv1tJWAGqWE93ba
        P39391g2q19Gi+Wd/fbwcHXV/vZ1tMAEDdWh7p58Xn1oTe6VNffkqGbPTgKMaVqP2QYlr7imaYT9
        KuzuuLYunMcxiTXKlJjhH+zPBHylzAJ85WxbVuFNQDw3vdm6F57Z2IzNeQofqeYMHiuGVtidCQQx
        oARu2XGtqEpgVam8CqFCzefs2HiYO1uDrxjy1sXAknTLMMZby2NMYcRgmAvwFtqmIM9RQDo2gxTe
        l6eEVEa+weX/YRr2XyB5k8KN8exYvByooGYTnBWYsTIlKOMtNCSeoKaFMuURv7EelDnhVXtE0Er8
        CTsVxZ56mMJn1hR5KtU8S1/RMvAT5OSj3QXcWVeSATIFEBS23IWvq7ZIA8IaSIvdQwBF3Uf1I/Ji
        zfOWMLhjRWBn3zj3IcXxXMefnfaLFN7fwI0R79rYg516x0COwViQhnM1V3lIU0dpe11cJCAWVnym
        NWimZXcjQM7RGrhu/DoNbXdFwgXY6K8w2JmwW3YKE1gdjlDTojvA3GptV8G02y+fPsY5Aduw62r2
        rfyZG015VxFsid12HKSSY3Mcxw7X2qn8SZTJOZzBMeQVmTLQhkxr9BqU5/rV7poPIM8a/DyS8mEO
        g3NtMNYUsNsgr8IpQrP809xOV2FZzJn/4c1sh8kFkIAKE0/aMRV7ozHBJhjFEneTbTBD12nuPlWY
        4eu4ehKMQ4UZ7ocet8l/lnT7clcxuHwh84e3h/wnPJ44nLxQfWLqAWGDu4mcNuwlvlN4PmE3RDhJ
        sLBljIT5CRyR9F/53dDgZLvdTrbbSYLibTPtNunpGo8fhL+3bHLGzLRaJ9jGf45s023nqbcLNoLZ
        +WV/kKBt/XFw+PPFdvs3AAAA//8DAIj3mCaaBgAA
    headers:
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 8a0bef7b4f2b2320-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 09 Jul 2024 23:01:28 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3998'
      anthropic-ratelimit-requests-reset:
      - '2024-07-09T23:01:54Z'
      anthropic-ratelimit-tokens-limit:
      - '400000'
      anthropic-ratelimit-tokens-remaining:
      - '400000'
      anthropic-ratelimit-tokens-reset:
      - '2024-07-09T23:01:27Z'
      request-id:
      - req_01Xk4isgSPV2asRiWubs2Fd3
      via:
      - 1.1 google
      x-cloud-trace-context:
      - 8fcd0c5abde34de5ffb659d74d2dc8a6
    status:
      code: 200
      message: OK
version: 1
